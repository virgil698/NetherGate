# ç¤ºä¾‹æ’ä»¶é›†

æœ¬æ–‡æ¡£æä¾›äº†ä¸€ç³»åˆ—å®ç”¨çš„æ’ä»¶ç¤ºä¾‹ï¼Œæ¶µç›–å¸¸è§çš„åŠŸèƒ½åœºæ™¯ã€‚æ¯ä¸ªç¤ºä¾‹éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨æˆ–ä½œä¸ºä½ è‡ªå·±æ’ä»¶çš„èµ·ç‚¹ã€‚

---

## ğŸ“‹ **ç›®å½•**

- [æ¬¢è¿æ¶ˆæ¯æ’ä»¶](#æ¬¢è¿æ¶ˆæ¯æ’ä»¶)
- [è‡ªåŠ¨å¹¿æ’­æ’ä»¶](#è‡ªåŠ¨å¹¿æ’­æ’ä»¶)
- [ä¼ é€ç‚¹æ’ä»¶](#ä¼ é€ç‚¹æ’ä»¶)
- [åœ¨çº¿æ—¶é•¿ç»Ÿè®¡æ’ä»¶](#åœ¨çº¿æ—¶é•¿ç»Ÿè®¡æ’ä»¶)
- [ç»æµç³»ç»Ÿæ’ä»¶](#ç»æµç³»ç»Ÿæ’ä»¶)
- [è‡ªå®šä¹‰å‘½ä»¤æ’ä»¶](#è‡ªå®šä¹‰å‘½ä»¤æ’ä»¶)

---

## ğŸ‘‹ **æ¬¢è¿æ¶ˆæ¯æ’ä»¶**

å½“ç©å®¶åŠ å…¥æœåŠ¡å™¨æ—¶ï¼Œæ˜¾ç¤ºä¸ªæ€§åŒ–çš„æ¬¢è¿æ¶ˆæ¯å’Œæ ‡é¢˜ã€‚

### **åŠŸèƒ½**

- âœ… é¦–æ¬¡åŠ å…¥å’Œå†æ¬¡åŠ å…¥ä¸åŒæ¶ˆæ¯
- âœ… æ˜¾ç¤ºæ¬¢è¿æ ‡é¢˜
- âœ… æ’­æ”¾éŸ³æ•ˆ
- âœ… å¯é…ç½®æ¶ˆæ¯æ¨¡æ¿

### **å®Œæ•´ä»£ç **

```csharp
using NetherGate.API.Plugins;
using NetherGate.API.Events;

namespace WelcomePlugin;

public class WelcomePlugin : IPlugin
{
    private IPluginContext _context = null!;
    private WelcomeConfig _config = null!;
    private HashSet<string> _knownPlayers = new();

    public void OnLoad() { }

    public async void OnEnable(IPluginContext context)
    {
        _context = context;
        _config = await _context.ConfigManager.LoadConfigAsync<WelcomeConfig>("config");
        
        // åŠ è½½å·²çŸ¥ç©å®¶åˆ—è¡¨
        LoadKnownPlayers();
        
        // è®¢é˜…ç©å®¶åŠ å…¥äº‹ä»¶
        _context.EventBus.Subscribe<PlayerJoinedEvent>(OnPlayerJoined);
        
        _context.Logger.Info("WelcomePlugin å·²å¯ç”¨");
    }

    public void OnDisable()
    {
        SaveKnownPlayers();
    }

    private async void OnPlayerJoined(PlayerJoinedEvent e)
    {
        var playerName = e.Player.Name;
        bool isNewPlayer = !_knownPlayers.Contains(playerName);

        // å»¶è¿Ÿ2ç§’æ˜¾ç¤ºæ¬¢è¿æ¶ˆæ¯
        await Task.Delay(2000);

        if (isNewPlayer)
        {
            // é¦–æ¬¡åŠ å…¥
            await ShowWelcomeForNewPlayer(playerName);
            _knownPlayers.Add(playerName);
            SaveKnownPlayers();
        }
        else
        {
            // å†æ¬¡åŠ å…¥
            await ShowWelcomeForReturningPlayer(playerName);
        }
    }

    private async Task ShowWelcomeForNewPlayer(string playerName)
    {
        // æ˜¾ç¤ºæ ‡é¢˜
        await _context.GameDisplayApi.ShowTitle(
            playerName,
            "Â§6Â§læ¬¢è¿åŠ å…¥æœåŠ¡å™¨ï¼",
            $"Â§e{playerName}",
            fadeIn: 20, stay: 100, fadeOut: 20
        );

        // å‘é€èŠå¤©æ¶ˆæ¯
        await _context.GameDisplayApi.SendChatMessage(
            playerName,
            $"\nÂ§6Â§lâ”â”â”â”â”â”â”â” æ¬¢è¿ â”â”â”â”â”â”â”â”\n" +
            $"Â§fæ¬¢è¿æ¥åˆ° {_config.ServerName}ï¼\n" +
            $"Â§7è¿™æ˜¯ä½ ç¬¬ä¸€æ¬¡åŠ å…¥æœåŠ¡å™¨\n" +
            $"Â§aè¾“å…¥ Â§f/help Â§aæŸ¥çœ‹å¸®åŠ©\n" +
            $"Â§6Â§lâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n"
        );

        // å¹¿æ’­æ–°ç©å®¶åŠ å…¥
        await _context.GameDisplayApi.BroadcastMessage(
            $"Â§eæ¬¢è¿æ–°ç©å®¶ Â§a{playerName} Â§eåŠ å…¥æœåŠ¡å™¨ï¼"
        );

        // æ’­æ”¾éŸ³æ•ˆ
        await _context.GameDisplayApi.PlaySound(
            playerName, 
            "entity.player.levelup", 
            volume: 1.0f, 
            pitch: 1.5f
        );
    }

    private async Task ShowWelcomeForReturningPlayer(string playerName)
    {
        await _context.GameDisplayApi.ShowTitle(
            playerName,
            "Â§aÂ§læ¬¢è¿å›æ¥ï¼",
            $"Â§e{playerName}",
            fadeIn: 10, stay: 60, fadeOut: 20
        );

        await _context.GameDisplayApi.SendChatMessage(
            playerName,
            $"Â§aæ¬¢è¿å›æ¥ï¼Œ{playerName}ï¼"
        );
    }

    private void LoadKnownPlayers()
    {
        var file = Path.Combine(_context.DataDirectory, "known_players.txt");
        if (File.Exists(file))
        {
            _knownPlayers = File.ReadAllLines(file).ToHashSet();
        }
    }

    private void SaveKnownPlayers()
    {
        var file = Path.Combine(_context.DataDirectory, "known_players.txt");
        File.WriteAllLines(file, _knownPlayers);
    }
}

public class WelcomeConfig
{
    public string ServerName { get; set; } = "Minecraft Server";
}
```

---

## ğŸ“¢ **è‡ªåŠ¨å¹¿æ’­æ’ä»¶**

å®šæ—¶å‘æ‰€æœ‰ç©å®¶å‘é€å¹¿æ’­æ¶ˆæ¯ã€‚

### **åŠŸèƒ½**

- âœ… å®šæ—¶å¾ªç¯å¹¿æ’­
- âœ… å¤šæ¡æ¶ˆæ¯éšæœºæˆ–é¡ºåºæ’­æ”¾
- âœ… æ”¯æŒå½©è‰²æ¶ˆæ¯
- âœ… å¯é…ç½®æ—¶é—´é—´éš”

### **å®Œæ•´ä»£ç **

```csharp
using NetherGate.API.Plugins;
using System.Timers;

namespace AutoBroadcastPlugin;

public class AutoBroadcastPlugin : IPlugin
{
    private IPluginContext _context = null!;
    private BroadcastConfig _config = null!;
    private System.Timers.Timer? _timer;
    private int _currentMessageIndex = 0;

    public void OnLoad() { }

    public async void OnEnable(IPluginContext context)
    {
        _context = context;
        _config = await _context.ConfigManager.LoadConfigAsync<BroadcastConfig>("config");

        if (_config.Messages.Count == 0)
        {
            _context.Logger.Warning("å¹¿æ’­æ¶ˆæ¯åˆ—è¡¨ä¸ºç©ºï¼Œæ’ä»¶å°†ä¸ä¼šå‘é€ä»»ä½•æ¶ˆæ¯");
            return;
        }

        // å¯åŠ¨å®šæ—¶å™¨
        _timer = new System.Timers.Timer(_config.IntervalSeconds * 1000);
        _timer.Elapsed += OnTimerElapsed;
        _timer.AutoReset = true;
        _timer.Start();

        _context.Logger.Info($"AutoBroadcastPlugin å·²å¯ç”¨ï¼Œé—´éš”: {_config.IntervalSeconds}ç§’");
    }

    public void OnDisable()
    {
        _timer?.Stop();
        _timer?.Dispose();
    }

    private async void OnTimerElapsed(object? sender, ElapsedEventArgs e)
    {
        string message;

        if (_config.RandomOrder)
        {
            // éšæœºé€‰æ‹©æ¶ˆæ¯
            var random = new Random();
            message = _config.Messages[random.Next(_config.Messages.Count)];
        }
        else
        {
            // é¡ºåºæ’­æ”¾
            message = _config.Messages[_currentMessageIndex];
            _currentMessageIndex = (_currentMessageIndex + 1) % _config.Messages.Count;
        }

        // æ·»åŠ å‰ç¼€
        message = $"{_config.Prefix} {message}";

        try
        {
            await _context.GameDisplayApi.BroadcastMessage(message);
            _context.Logger.Debug($"å·²å¹¿æ’­æ¶ˆæ¯: {message}");
        }
        catch (Exception ex)
        {
            _context.Logger.Error($"å¹¿æ’­æ¶ˆæ¯å¤±è´¥: {ex.Message}");
        }
    }
}

public class BroadcastConfig
{
    /// <summary>
    /// æ¶ˆæ¯åˆ—è¡¨
    /// </summary>
    public List<string> Messages { get; set; } = new()
    {
        "Â§aæ¬¢è¿æ¥åˆ°æœåŠ¡å™¨ï¼",
        "Â§eè®°å¾—å®šæœŸç­¾åˆ°å“¦ï¼",
        "Â§béµå®ˆæœåŠ¡å™¨è§„åˆ™ï¼Œå‹å–„å¾…äººã€‚",
        "Â§dåŠ å…¥æˆ‘ä»¬çš„Discord: discord.gg/example"
    };

    /// <summary>
    /// æ¶ˆæ¯å‰ç¼€
    /// </summary>
    public string Prefix { get; set; } = "Â§6[æœåŠ¡å™¨]";

    /// <summary>
    /// é—´éš”æ—¶é—´ï¼ˆç§’ï¼‰
    /// </summary>
    public int IntervalSeconds { get; set; } = 300; // 5åˆ†é’Ÿ

    /// <summary>
    /// æ˜¯å¦éšæœºé¡ºåº
    /// </summary>
    public bool RandomOrder { get; set; } = false;
}
```

**é…ç½®ç¤ºä¾‹ (config.yaml):**

```yaml
messages:
  - "Â§aæ¬¢è¿æ¥åˆ°æœåŠ¡å™¨ï¼"
  - "Â§eè®°å¾—å®šæœŸç­¾åˆ°å“¦ï¼"
  - "Â§béµå®ˆæœåŠ¡å™¨è§„åˆ™ï¼Œå‹å–„å¾…äººã€‚"
  - "Â§dåŠ å…¥æˆ‘ä»¬çš„Discord: discord.gg/example"

prefix: "Â§6[æœåŠ¡å™¨]"
interval_seconds: 300
random_order: false
```

---

## ğŸš€ **ä¼ é€ç‚¹æ’ä»¶**

å…è®¸ç©å®¶è®¾ç½®å’Œä¼ é€åˆ°è‡ªå®šä¹‰ä¼ é€ç‚¹ã€‚

### **åŠŸèƒ½**

- âœ… è®¾ç½®å’Œåˆ é™¤ä¼ é€ç‚¹
- âœ… ä¼ é€åˆ°ä¼ é€ç‚¹
- âœ… åˆ—å‡ºæ‰€æœ‰ä¼ é€ç‚¹
- âœ… æƒé™æ§åˆ¶

### **å®Œæ•´ä»£ç **

```csharp
using NetherGate.API.Plugins;
using NetherGate.API.Commands;
using System.Text.Json;

namespace WarpPlugin;

public class WarpPlugin : IPlugin
{
    private IPluginContext _context = null!;
    private Dictionary<string, WarpPoint> _warps = new();
    private string _dataFile = string.Empty;

    public void OnLoad() { }

    public void OnEnable(IPluginContext context)
    {
        _context = context;
        _dataFile = Path.Combine(_context.DataDirectory, "warps.json");
        
        LoadWarps();
        
        _context.CommandManager.RegisterCommand(new WarpCommand(_context, this));
        _context.CommandManager.RegisterCommand(new SetWarpCommand(_context, this));
        _context.CommandManager.RegisterCommand(new DelWarpCommand(_context, this));
        _context.CommandManager.RegisterCommand(new WarpsCommand(_context, this));
        
        _context.Logger.Info("WarpPlugin å·²å¯ç”¨");
    }

    public void OnDisable()
    {
        SaveWarps();
    }

    public WarpPoint? GetWarp(string name) => 
        _warps.TryGetValue(name.ToLower(), out var warp) ? warp : null;

    public void AddWarp(string name, WarpPoint warp)
    {
        _warps[name.ToLower()] = warp;
        SaveWarps();
    }

    public bool RemoveWarp(string name)
    {
        bool removed = _warps.Remove(name.ToLower());
        if (removed) SaveWarps();
        return removed;
    }

    public Dictionary<string, WarpPoint> GetAllWarps() => _warps;

    private void LoadWarps()
    {
        if (File.Exists(_dataFile))
        {
            var json = File.ReadAllText(_dataFile);
            _warps = JsonSerializer.Deserialize<Dictionary<string, WarpPoint>>(json) ?? new();
            _context.Logger.Info($"å·²åŠ è½½ {_warps.Count} ä¸ªä¼ é€ç‚¹");
        }
    }

    private void SaveWarps()
    {
        var json = JsonSerializer.Serialize(_warps, new JsonSerializerOptions { WriteIndented = true });
        File.WriteAllText(_dataFile, json);
    }
}

public class WarpPoint
{
    public double X { get; set; }
    public double Y { get; set; }
    public double Z { get; set; }
    public float Yaw { get; set; }
    public float Pitch { get; set; }
    public string Creator { get; set; } = string.Empty;
    public DateTime CreatedAt { get; set; }
}

// ä¼ é€å‘½ä»¤
public class WarpCommand : ICommand
{
    private readonly IPluginContext _context;
    private readonly WarpPlugin _plugin;

    public string Name => "warp";
    public string Description => "ä¼ é€åˆ°ä¼ é€ç‚¹";
    public string? Usage => "#warp <name>";

    public WarpCommand(IPluginContext context, WarpPlugin plugin)
    {
        _context = context;
        _plugin = plugin;
    }

    public async Task<CommandResult> ExecuteAsync(string[] args, ICommandSender? sender = null)
    {
        if (sender == null)
            return CommandResult.Fail("æ­¤å‘½ä»¤åªèƒ½åœ¨æ¸¸æˆå†…ä½¿ç”¨");

        if (args.Length == 0)
            return CommandResult.Fail($"ç”¨æ³•: {Usage}");

        var warpName = args[0];
        var warp = _plugin.GetWarp(warpName);

        if (warp == null)
            return CommandResult.Fail($"Â§cä¼ é€ç‚¹ '{warpName}' ä¸å­˜åœ¨");

        await _context.GameDisplayApi.TeleportPlayer(
            sender.Name, warp.X, warp.Y, warp.Z, warp.Yaw, warp.Pitch);

        await _context.GameDisplayApi.SendChatMessage(
            sender.Name, $"Â§aå·²ä¼ é€åˆ° '{warpName}'");

        return CommandResult.Success();
    }

    public async Task<List<string>> TabCompleteAsync(string[] args, ICommandSender? sender = null)
    {
        if (args.Length == 1)
        {
            return _plugin.GetAllWarps().Keys.ToList();
        }
        return new List<string>();
    }
}

// è®¾ç½®ä¼ é€ç‚¹å‘½ä»¤
public class SetWarpCommand : ICommand
{
    private readonly IPluginContext _context;
    private readonly WarpPlugin _plugin;

    public string Name => "setwarp";
    public string Description => "è®¾ç½®ä¼ é€ç‚¹";
    public string? Permission => "warp.admin";
    public string? Usage => "#setwarp <name>";

    public SetWarpCommand(IPluginContext context, WarpPlugin plugin)
    {
        _context = context;
        _plugin = plugin;
    }

    public async Task<CommandResult> ExecuteAsync(string[] args, ICommandSender? sender = null)
    {
        if (sender == null)
            return CommandResult.Fail("æ­¤å‘½ä»¤åªèƒ½åœ¨æ¸¸æˆå†…ä½¿ç”¨");

        if (args.Length == 0)
            return CommandResult.Fail($"ç”¨æ³•: {Usage}");

        var warpName = args[0];

        // è·å–ç©å®¶å½“å‰ä½ç½®ï¼ˆè¿™é‡Œç®€åŒ–å¤„ç†ï¼Œå®é™…åº”ä»ç©å®¶æ•°æ®è¯»å–ï¼‰
        var warp = new WarpPoint
        {
            X = 0, Y = 64, Z = 0, // å®é™…åº”è¯»å–ç©å®¶ä½ç½®
            Creator = sender.Name,
            CreatedAt = DateTime.UtcNow
        };

        _plugin.AddWarp(warpName, warp);

        await _context.GameDisplayApi.SendChatMessage(
            sender.Name, $"Â§aå·²è®¾ç½®ä¼ é€ç‚¹ '{warpName}'");

        return CommandResult.Success();
    }
}

// åˆ é™¤ä¼ é€ç‚¹å‘½ä»¤
public class DelWarpCommand : ICommand
{
    private readonly IPluginContext _context;
    private readonly WarpPlugin _plugin;

    public string Name => "delwarp";
    public string Description => "åˆ é™¤ä¼ é€ç‚¹";
    public string? Permission => "warp.admin";
    public string? Usage => "#delwarp <name>";

    public DelWarpCommand(IPluginContext context, WarpPlugin plugin)
    {
        _context = context;
        _plugin = plugin;
    }

    public async Task<CommandResult> ExecuteAsync(string[] args, ICommandSender? sender = null)
    {
        if (args.Length == 0)
            return CommandResult.Fail($"ç”¨æ³•: {Usage}");

        var warpName = args[0];
        bool removed = _plugin.RemoveWarp(warpName);

        if (removed)
        {
            if (sender != null)
            {
                await _context.GameDisplayApi.SendChatMessage(
                    sender.Name, $"Â§aå·²åˆ é™¤ä¼ é€ç‚¹ '{warpName}'");
            }
            return CommandResult.Success();
        }
        else
        {
            return CommandResult.Fail($"Â§cä¼ é€ç‚¹ '{warpName}' ä¸å­˜åœ¨");
        }
    }

    public async Task<List<string>> TabCompleteAsync(string[] args, ICommandSender? sender = null)
    {
        if (args.Length == 1)
        {
            return _plugin.GetAllWarps().Keys.ToList();
        }
        return new List<string>();
    }
}

// åˆ—å‡ºä¼ é€ç‚¹å‘½ä»¤
public class WarpsCommand : ICommand
{
    private readonly IPluginContext _context;
    private readonly WarpPlugin _plugin;

    public string Name => "warps";
    public string Description => "åˆ—å‡ºæ‰€æœ‰ä¼ é€ç‚¹";

    public WarpsCommand(IPluginContext context, WarpPlugin plugin)
    {
        _context = context;
        _plugin = plugin;
    }

    public async Task<CommandResult> ExecuteAsync(string[] args, ICommandSender? sender = null)
    {
        var warps = _plugin.GetAllWarps();

        if (warps.Count == 0)
        {
            return CommandResult.Fail("Â§cå½“å‰æ²¡æœ‰ä»»ä½•ä¼ é€ç‚¹");
        }

        var message = $"Â§6=== ä¼ é€ç‚¹åˆ—è¡¨ ({warps.Count}) ===\n";
        foreach (var kvp in warps)
        {
            message += $"Â§e{kvp.Key} Â§7- Â§f({kvp.Value.X:F0}, {kvp.Value.Y:F0}, {kvp.Value.Z:F0})\n";
        }

        if (sender != null)
        {
            await _context.GameDisplayApi.SendChatMessage(sender.Name, message);
        }

        return CommandResult.Success(message);
    }
}
```

---

## â±ï¸ **åœ¨çº¿æ—¶é•¿ç»Ÿè®¡æ’ä»¶**

ç»Ÿè®¡ç©å®¶åœ¨çº¿æ—¶é•¿å¹¶æä¾›æ’è¡Œæ¦œã€‚

### **åŠŸèƒ½**

- âœ… è‡ªåŠ¨ç»Ÿè®¡ç©å®¶åœ¨çº¿æ—¶é•¿
- âœ… æŸ¥è¯¢ä¸ªäººåœ¨çº¿æ—¶é•¿
- âœ… åœ¨çº¿æ—¶é•¿æ’è¡Œæ¦œ
- âœ… æ•°æ®æŒä¹…åŒ–

### **æ ¸å¿ƒä»£ç **

```csharp
using NetherGate.API.Plugins;
using NetherGate.API.Events;
using NetherGate.API.Commands;

namespace PlaytimePlugin;

public class PlaytimePlugin : IPlugin
{
    private IPluginContext _context = null!;
    private Dictionary<string, PlayerPlaytime> _playData = new();
    private Dictionary<string, DateTime> _sessionStart = new();

    public void OnLoad() { }

    public void OnEnable(IPluginContext context)
    {
        _context = context;
        
        LoadData();
        
        _context.EventBus.Subscribe<PlayerJoinedEvent>(OnPlayerJoined);
        _context.EventBus.Subscribe<PlayerLeftEvent>(OnPlayerLeft);
        
        _context.CommandManager.RegisterCommand(new PlaytimeCommand(_context, this));
        _context.CommandManager.RegisterCommand(new PlaytimeTopCommand(_context, this));
        
        _context.Logger.Info("PlaytimePlugin å·²å¯ç”¨");
    }

    public void OnDisable()
    {
        // ä¿å­˜æ‰€æœ‰åœ¨çº¿ç©å®¶çš„æ—¶é•¿
        foreach (var kvp in _sessionStart)
        {
            UpdatePlaytime(kvp.Key, kvp.Value);
        }
        SaveData();
    }

    private void OnPlayerJoined(PlayerJoinedEvent e)
    {
        _sessionStart[e.Player.Name] = DateTime.UtcNow;
        
        if (!_playData.ContainsKey(e.Player.Name))
        {
            _playData[e.Player.Name] = new PlayerPlaytime { PlayerName = e.Player.Name };
        }
    }

    private void OnPlayerLeft(PlayerLeftEvent e)
    {
        if (_sessionStart.TryGetValue(e.Player.Name, out var startTime))
        {
            UpdatePlaytime(e.Player.Name, startTime);
            _sessionStart.Remove(e.Player.Name);
            SaveData();
        }
    }

    private void UpdatePlaytime(string playerName, DateTime startTime)
    {
        var duration = DateTime.UtcNow - startTime;
        
        if (_playData.TryGetValue(playerName, out var data))
        {
            data.TotalMinutes += (int)duration.TotalMinutes;
            data.LastPlayed = DateTime.UtcNow;
        }
    }

    public PlayerPlaytime? GetPlaytime(string playerName) =>
        _playData.TryGetValue(playerName, out var data) ? data : null;

    public List<PlayerPlaytime> GetTopPlayers(int count = 10) =>
        _playData.Values.OrderByDescending(p => p.TotalMinutes).Take(count).ToList();

    private void LoadData()
    {
        var file = Path.Combine(_context.DataDirectory, "playtime.json");
        if (File.Exists(file))
        {
            var json = File.ReadAllText(file);
            _playData = System.Text.Json.JsonSerializer
                .Deserialize<Dictionary<string, PlayerPlaytime>>(json) ?? new();
        }
    }

    private void SaveData()
    {
        var file = Path.Combine(_context.DataDirectory, "playtime.json");
        var json = System.Text.Json.JsonSerializer.Serialize(_playData, 
            new System.Text.Json.JsonSerializerOptions { WriteIndented = true });
        File.WriteAllText(file, json);
    }
}

public class PlayerPlaytime
{
    public string PlayerName { get; set; } = string.Empty;
    public int TotalMinutes { get; set; }
    public DateTime? LastPlayed { get; set; }
    
    public string FormatPlaytime()
    {
        int hours = TotalMinutes / 60;
        int minutes = TotalMinutes % 60;
        
        if (hours > 24)
        {
            int days = hours / 24;
            hours = hours % 24;
            return $"{days}å¤© {hours}å°æ—¶ {minutes}åˆ†é’Ÿ";
        }
        return $"{hours}å°æ—¶ {minutes}åˆ†é’Ÿ";
    }
}
```

---

## ğŸ’° **ç®€æ˜“ç»æµç³»ç»Ÿæ’ä»¶**

å®ç°ä¸€ä¸ªåŸºç¡€çš„ç»æµç³»ç»Ÿï¼Œæ”¯æŒé‡‘å¸ç®¡ç†ã€‚

### **åŠŸèƒ½**

- âœ… æŸ¥è¯¢ä½™é¢
- âœ… è½¬è´¦
- âœ… ç®¡ç†å‘˜æ·»åŠ /æ‰£é™¤é‡‘å¸
- âœ… ç»æµæ’è¡Œæ¦œ

### **æ ¸å¿ƒä»£ç ç‰‡æ®µ**

```csharp
public class EconomyService
{
    private Dictionary<string, int> _balances = new();
    
    public int GetBalance(string playerName)
    {
        return _balances.TryGetValue(playerName, out var balance) ? balance : 0;
    }
    
    public bool AddMoney(string playerName, int amount)
    {
        if (amount < 0) return false;
        
        _balances.TryGetValue(playerName, out var balance);
        _balances[playerName] = balance + amount;
        return true;
    }
    
    public bool RemoveMoney(string playerName, int amount)
    {
        if (amount < 0) return false;
        
        var balance = GetBalance(playerName);
        if (balance < amount) return false;
        
        _balances[playerName] = balance - amount;
        return true;
    }
    
    public bool Transfer(string from, string to, int amount)
    {
        if (amount <= 0) return false;
        if (from == to) return false;
        
        if (!RemoveMoney(from, amount)) return false;
        
        AddMoney(to, amount);
        return true;
    }
}
```

---

## ğŸ“š **æ›´å¤šç¤ºä¾‹**

### **è·å–å®Œæ•´ç¤ºä¾‹ä»£ç **

æ‰€æœ‰ç¤ºä¾‹çš„å®Œæ•´æºä»£ç å¯åœ¨ä»¥ä¸‹ä½ç½®æ‰¾åˆ°ï¼š
- GitHub: https://github.com/your-org/NetherGate-Plugins
- ç¤ºä¾‹ä»“åº“: https://github.com/your-org/NetherGate-Examples

### **ç›¸å…³æ–‡æ¡£**

- [ç¬¬ä¸€ä¸ªæ’ä»¶](../01-å¿«é€Ÿå¼€å§‹/ç¬¬ä¸€ä¸ªæ’ä»¶.md) - è¯¦ç»†æ•™ç¨‹
- [æ’ä»¶å¼€å‘æŒ‡å—](../03-æ’ä»¶å¼€å‘/æ’ä»¶å¼€å‘æŒ‡å—.md)
- [API å‚è€ƒ](../08-å‚è€ƒ/APIå‚è€ƒ.md)
- [å¸¸è§åœºæ™¯](./å¸¸è§åœºæ™¯.md)

---

**æ–‡æ¡£ç»´æŠ¤è€…ï¼š** NetherGate å¼€å‘å›¢é˜Ÿ  
**æœ€åæ›´æ–°ï¼š** 2025-10-05
