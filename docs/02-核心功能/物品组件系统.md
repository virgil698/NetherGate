# ç‰©å“ç»„ä»¶ç³»ç»Ÿ


---

## ğŸ“‹ ç›®å½•

- [æ¦‚è¿°](#æ¦‚è¿°)
- [ç‰ˆæœ¬å…¼å®¹æ€§](#ç‰ˆæœ¬å…¼å®¹æ€§)
- [æ•°æ®ç»„ä»¶ç±»å‹](#æ•°æ®ç»„ä»¶ç±»å‹)
- [API è®¾è®¡](#api-è®¾è®¡)
- [è¯»å–ç‰©å“ç»„ä»¶](#è¯»å–ç‰©å“ç»„ä»¶)
- [å†™å…¥ç‰©å“ç»„ä»¶](#å†™å…¥ç‰©å“ç»„ä»¶)
- [ç»„ä»¶è½¬æ¢](#ç»„ä»¶è½¬æ¢)
- [å®æˆ˜ç¤ºä¾‹](#å®æˆ˜ç¤ºä¾‹)
- [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)

---

## æ¦‚è¿°

### ä»€ä¹ˆæ˜¯æ•°æ®ç»„ä»¶ï¼Ÿ

**æ•°æ®ç»„ä»¶ï¼ˆData Componentï¼‰** æ˜¯ Minecraft Java ç‰ˆ 1.20.5 å¼•å…¥çš„æ–°æ•°æ®æ ¼å¼ï¼Œç”¨äºå–ä»£ä¼ ç»Ÿçš„ NBT æ ‡ç­¾ç³»ç»Ÿã€‚å®ƒæä¾›äº†æ›´ç»“æ„åŒ–ã€æ›´æ˜“äºç»´æŠ¤çš„æ•°æ®å­˜å‚¨æ–¹å¼ã€‚

### ä¸ºä»€ä¹ˆè¦è¿ç§»ï¼Ÿ

| **ä¼ ç»Ÿ NBT ç³»ç»Ÿ** | **æ•°æ®ç»„ä»¶ç³»ç»Ÿ** |
|------------------|-----------------|
| ğŸ”´ ç»“æ„æ¾æ•£ï¼Œéš¾ä»¥éªŒè¯ | ğŸŸ¢ å¼ºç±»å‹ï¼Œç»“æ„åŒ– |
| ğŸ”´ å‘½åä¸ä¸€è‡´ | ğŸŸ¢ å‘½åç©ºé—´ç»Ÿä¸€ |
| ğŸ”´ éš¾ä»¥æ‰©å±• | ğŸŸ¢ æ¨¡å—åŒ–è®¾è®¡ |
| ğŸ”´ å…¼å®¹æ€§é—®é¢˜ | ğŸŸ¢ å‘åå…¼å®¹ |

### æ ¸å¿ƒå˜åŒ–

```diff
- // æ—§ NBT æ ¼å¼ (1.20.4 åŠä¹‹å‰)
- {
-   id: "minecraft:diamond_sword",
-   Count: 1,
-   tag: {
-     Damage: 10,
-     display: {
-       Name: '{"text":"ç¥å‰‘"}'
-     },
-     Enchantments: [...]
-   }
- }

+ // æ–°ç»„ä»¶æ ¼å¼ (1.20.5+)
+ {
+   id: "minecraft:diamond_sword",
+   count: 1,
+   components: {
+     "minecraft:damage": 10,
+     "minecraft:custom_name": '{"text":"ç¥å‰‘"}',
+     "minecraft:enchantments": {...}
+   }
+ }
```

---

## ç‰ˆæœ¬å…¼å®¹æ€§

| Minecraft ç‰ˆæœ¬ | æ•°æ®æ ¼å¼ | NetherGate æ”¯æŒ |
|---------------|---------|----------------|
| 1.20.4 åŠä¹‹å‰ | NBT æ ‡ç­¾ | âœ… å®Œå…¨æ”¯æŒ |
| 1.20.5 - 1.21.8 | æ•°æ®ç»„ä»¶ï¼ˆè¿‡æ¸¡æœŸï¼‰ | âœ… å®Œå…¨æ”¯æŒ |
| 1.21.9+ | æ•°æ®ç»„ä»¶ï¼ˆæ ‡å‡†ï¼‰ | âœ… å®Œå…¨æ”¯æŒ |

### è‡ªåŠ¨æ£€æµ‹ç‰ˆæœ¬

NetherGate ä¼šè‡ªåŠ¨æ£€æµ‹æœåŠ¡å™¨ç‰ˆæœ¬å¹¶ä½¿ç”¨ç›¸åº”çš„æ•°æ®æ ¼å¼ï¼š

```csharp
// è‡ªåŠ¨ç‰ˆæœ¬æ£€æµ‹
var reader = await context.GetPlayerDataReader();
var version = await reader.GetServerVersion();

if (version >= new Version(1, 20, 5))
{
    // ä½¿ç”¨æ•°æ®ç»„ä»¶ API
    var components = await reader.ReadPlayerInventoryComponents(playerName);
}
else
{
    // ä½¿ç”¨ä¼ ç»Ÿ NBT API
    var nbt = await reader.ReadPlayerInventory(playerName);
}
```

---

## æ•°æ®ç»„ä»¶ç±»å‹

### ç‰©å“å †å ç»„ä»¶

æœ€å¸¸ç”¨çš„ç»„ä»¶ç±»å‹ï¼Œç”¨äºæè¿°ç‰©å“çš„å„ç§å±æ€§ï¼š

| ç»„ä»¶ ID | è¯´æ˜ | ç¤ºä¾‹ |
|---------|------|------|
| `minecraft:custom_name` | è‡ªå®šä¹‰åç§° | `{"text":"ä¼ å¥‡ä¹‹å‰‘","color":"gold"}` |
| `minecraft:lore` | ç‰©å“æè¿° | `[{"text":"ç¨€æœ‰æ­¦å™¨"}]` |
| `minecraft:enchantments` | é™„é­” | `{levels:{"minecraft:sharpness":5}}` |
| `minecraft:damage` | æŸåå€¼ | `10` |
| `minecraft:max_damage` | æœ€å¤§è€ä¹… | `1561` |
| `minecraft:max_stack_size` | æœ€å¤§å †å æ•° | `64` |
| `minecraft:unbreakable` | ä¸å¯ç ´å | `{}` |
| `minecraft:custom_model_data` | è‡ªå®šä¹‰æ¨¡å‹ | `1234567` |
| `minecraft:custom_data` | è‡ªå®šä¹‰æ•°æ® | `{plugin_data:{...}}` |
| `minecraft:rarity` | ç¨€æœ‰åº¦ | `"epic"` |
| `minecraft:attribute_modifiers` | å±æ€§ä¿®é¥°ç¬¦ | `{modifiers:[...]}` |
| `minecraft:trim` | ç›”ç”²çº¹é¥° | `{material:"...", pattern:"..."}` |
| `minecraft:dyed_color` | æŸ“è‰² | `{rgb:16711680}` |
| `minecraft:potion_contents` | è¯æ°´å†…å®¹ | `{potion:"minecraft:healing"}` |
| `minecraft:container` | å®¹å™¨å†…å®¹ | `[{slot:0, item:{...}}]` |
| `minecraft:bundle_contents` | æŸåŒ…å†…å®¹ | `[{id:"...", count:1}]` |
| `minecraft:written_book_content` | ä¹¦æœ¬å†…å®¹ | `{pages:[...], title:"..."}` |
| `minecraft:fireworks` | çƒŸèŠ± | `{explosions:[...]}` |
| `minecraft:profile` | ç©å®¶å¤´é¢… | `{name:"Steve"}` |

### æ–¹å—å®ä½“ç»„ä»¶

ç”¨äºæè¿°æ–¹å—å®ä½“çš„æ•°æ®ï¼š

| ç»„ä»¶ ID | ä½œç”¨æ–¹å— | è¯´æ˜ |
|---------|---------|------|
| `minecraft:custom_name` | æ‰€æœ‰å®¹å™¨ | å®¹å™¨åç§° |
| `minecraft:lock` | æ‰€æœ‰å®¹å™¨ | é”å®šçŠ¶æ€ |
| `minecraft:container` | ç®±å­ã€æ½œå½±ç›’ç­‰ | å®¹å™¨å†…å®¹ |
| `minecraft:container_loot` | æˆ˜åˆ©å“å®¹å™¨ | æˆ˜åˆ©å“è¡¨ |
| `minecraft:note_block_sound` | éŸ³ç¬¦ç›’ | éŸ³ç¬¦ |
| `minecraft:bees` | èœ‚ç®± | èœœèœ‚æ•°æ® |
| `minecraft:banner_patterns` | æ——å¸œ | å›¾æ¡ˆ |
| `minecraft:pot_decorations` | é¥°çº¹é™¶ç½ | è£…é¥° |

### å®ä½“ç»„ä»¶

ç”¨äºæè¿°å®ä½“çš„å˜ç§æ•°æ®ï¼š

| ç»„ä»¶ ID | ä½œç”¨å®ä½“ | è¯´æ˜ |
|---------|---------|------|
| `minecraft:axolotl/variant` | ç¾è¥¿èˆ | å˜ç§ï¼ˆè“è‰²ã€é’è‰²ç­‰ï¼‰ |
| `minecraft:cat/variant` | çŒ« | å“ç§ |
| `minecraft:horse/variant` | é©¬ | é¢œè‰²å’Œæ–‘çº¹ |
| `minecraft:wolf/variant` | ç‹¼ | å˜ç§ï¼ˆç”Ÿç‰©ç¾¤ç³»ï¼‰ |
| `minecraft:villager/variant` | æ‘æ°‘ | èŒä¸šå’Œç­‰çº§ |
| `minecraft:tropical_fish/pattern` | çƒ­å¸¦é±¼ | å›¾æ¡ˆ |

---

## API è®¾è®¡

### IItemComponentReader

NetherGate æä¾›äº†ä¸“é—¨çš„ç»„ä»¶è¯»å– APIï¼š

```csharp
namespace NetherGate.API.Data;

/// <summary>
/// ç‰©å“ç»„ä»¶è¯»å–å™¨ï¼ˆ1.20.5+ï¼‰
/// </summary>
public interface IItemComponentReader
{
    /// <summary>
    /// è¯»å–ç©å®¶èƒŒåŒ…æ‰€æœ‰ç‰©å“çš„ç»„ä»¶æ•°æ®
    /// </summary>
    Task<PlayerInventoryComponents> ReadPlayerInventoryComponentsAsync(string playerName);

    /// <summary>
    /// è¯»å–ç‰¹å®šæ§½ä½çš„ç‰©å“ç»„ä»¶
    /// </summary>
    Task<ItemComponents?> ReadInventorySlotComponentsAsync(string playerName, int slot);

    /// <summary>
    /// è¯»å–æœ«å½±ç®±ç‰©å“ç»„ä»¶
    /// </summary>
    Task<List<ItemComponents>> ReadEnderChestComponentsAsync(string playerName);

    /// <summary>
    /// æ£€æŸ¥ç‰©å“æ˜¯å¦æœ‰ç‰¹å®šç»„ä»¶
    /// </summary>
    Task<bool> HasComponentAsync(string playerName, int slot, string componentId);

    /// <summary>
    /// è¯»å–ç‰¹å®šç»„ä»¶çš„å€¼
    /// </summary>
    Task<T?> GetComponentValueAsync<T>(string playerName, int slot, string componentId);

    /// <summary>
    /// è¯»å–æ–¹å—å®ä½“ç»„ä»¶
    /// </summary>
    Task<BlockEntityComponents?> ReadBlockEntityComponentsAsync(int x, int y, int z, string dimension = "overworld");
}
```

### æ•°æ®æ¨¡å‹

```csharp
namespace NetherGate.API.Data.Models;

/// <summary>
/// ç©å®¶èƒŒåŒ…ç»„ä»¶æ•°æ®
/// </summary>
public record PlayerInventoryComponents
{
    /// <summary>ç©å®¶åç§°</summary>
    public required string PlayerName { get; init; }

    /// <summary>ä¸»èƒŒåŒ…ç‰©å“ï¼ˆ0-35ï¼‰</summary>
    public required List<ItemComponents> Inventory { get; init; }

    /// <summary>æŠ¤ç”²æ ï¼ˆ36-39ï¼‰</summary>
    public required List<ItemComponents> Armor { get; init; }

    /// <summary>å‰¯æ‰‹ï¼ˆ40ï¼‰</summary>
    public required ItemComponents? Offhand { get; init; }

    /// <summary>æœ«å½±ç®±</summary>
    public List<ItemComponents>? EnderChest { get; init; }

    /// <summary>æœåŠ¡å™¨ç‰ˆæœ¬</summary>
    public required string ServerVersion { get; init; }
}

/// <summary>
/// ç‰©å“ç»„ä»¶
/// </summary>
public record ItemComponents
{
    /// <summary>ç‰©å“ ID</summary>
    public required string Id { get; init; }

    /// <summary>æ•°é‡</summary>
    public required int Count { get; init; }

    /// <summary>æ§½ä½</summary>
    public required int Slot { get; init; }

    /// <summary>ç»„ä»¶æ•°æ®</summary>
    public required Dictionary<string, object> Components { get; init; }

    /// <summary>å¿«æ·è®¿é—®ï¼šè‡ªå®šä¹‰åç§°</summary>
    public string? CustomName => GetComponent<string>("minecraft:custom_name");

    /// <summary>å¿«æ·è®¿é—®ï¼šæè¿°</summary>
    public List<string>? Lore => GetComponent<List<string>>("minecraft:lore");

    /// <summary>å¿«æ·è®¿é—®ï¼šé™„é­”</summary>
    public Dictionary<string, int>? Enchantments => GetComponent<Dictionary<string, int>>("minecraft:enchantments");

    /// <summary>å¿«æ·è®¿é—®ï¼šæŸåå€¼</summary>
    public int? Damage => GetComponent<int?>("minecraft:damage");

    /// <summary>å¿«æ·è®¿é—®ï¼šæœ€å¤§è€ä¹…</summary>
    public int? MaxDamage => GetComponent<int?>("minecraft:max_damage");

    /// <summary>å¿«æ·è®¿é—®ï¼šè‡ªå®šä¹‰æ•°æ®</summary>
    public Dictionary<string, object>? CustomData => GetComponent<Dictionary<string, object>>("minecraft:custom_data");

    /// <summary>è·å–ç‰¹å®šç»„ä»¶</summary>
    public T? GetComponent<T>(string componentId)
    {
        if (Components.TryGetValue(componentId, out var value))
        {
            return (T)value;
        }
        return default;
    }

    /// <summary>æ£€æŸ¥æ˜¯å¦æœ‰ç‰¹å®šç»„ä»¶</summary>
    public bool HasComponent(string componentId) => Components.ContainsKey(componentId);
}

/// <summary>
/// æ–¹å—å®ä½“ç»„ä»¶
/// </summary>
public record BlockEntityComponents
{
    /// <summary>æ–¹å— ID</summary>
    public required string Id { get; init; }

    /// <summary>ä½ç½®</summary>
    public required BlockPosition Position { get; init; }

    /// <summary>ç»„ä»¶æ•°æ®</summary>
    public required Dictionary<string, object> Components { get; init; }
}

public record BlockPosition(int X, int Y, int Z, string Dimension);
```

---

## è¯»å–ç‰©å“ç»„ä»¶

### åœ¨çº¿ä¸ç¦»çº¿æ•°æ®è¯»å–

NetherGate æ”¯æŒä¸¤ç§æ•°æ®è¯»å–æ–¹å¼ï¼š

| æ–¹å¼ | é€‚ç”¨åœºæ™¯ | æ•°æ®æ¥æº | å®æ—¶æ€§ | éœ€è¦ RCON |
|------|---------|---------|--------|----------|
| **åœ¨çº¿è¯»å–** | ç©å®¶åœ¨çº¿æ—¶ | RCON å‘½ä»¤ `/data get` | âœ… å®æ—¶ | âœ… æ˜¯ |
| **ç¦»çº¿è¯»å–** | ç©å®¶ç¦»çº¿æ—¶æˆ–æ—  RCON | ç©å®¶æ•°æ®æ–‡ä»¶ï¼ˆ.datï¼‰ | âš ï¸ ä¸Šæ¬¡ä¿å­˜ | âŒ å¦ |

**è‡ªåŠ¨é€‰æ‹©æœºåˆ¶ï¼š**
```csharp
// NetherGate ä¼šè‡ªåŠ¨åˆ¤æ–­ï¼š
// 1. ç©å®¶æ˜¯å¦åœ¨çº¿
// 2. RCON æ˜¯å¦å¯ç”¨
// 3. è‡ªåŠ¨é€‰æ‹©æœ€ä½³è¯»å–æ–¹å¼
var reader = await context.GetItemComponentReader();
var inventory = await reader.ReadPlayerInventoryComponentsAsync(playerName);
```

**SNBT è§£ææ”¯æŒï¼ˆ1.21.9+ï¼‰ï¼š**

åœ¨çº¿è¯»å–ä½¿ç”¨å†…ç½®çš„ SNBTï¼ˆå­—ç¬¦ä¸²åŒ– NBTï¼‰è§£æå™¨ï¼Œæ”¯æŒï¼š
- âœ… å¤åˆæ ‡ç­¾ï¼ˆCompoundï¼‰
- âœ… åˆ—è¡¨æ ‡ç­¾ï¼ˆListï¼‰
- âœ… æ•°ç»„æ ‡ç­¾ï¼ˆIntArray, LongArray, ByteArrayï¼‰
- âœ… æ‰€æœ‰åŸå§‹ç±»å‹ï¼ˆByte, Short, Int, Long, Float, Double, Stringï¼‰
- âœ… è½¬ä¹‰å­—ç¬¦å’Œå¼•å·å­—ç¬¦ä¸²
- âœ… ç±»å‹åç¼€ï¼ˆb, s, l, f, dï¼‰

### åŸºç¡€è¯»å–

```csharp
using NetherGate.API;
using NetherGate.API.Data;

public class ItemInspectorPlugin : IPlugin
{
    public async Task OnPlayerJoinAsync(PlayerJoinEvent e, IPluginContext context)
    {
        var reader = await context.GetItemComponentReader();
        
        // è¯»å–ç©å®¶å®Œæ•´èƒŒåŒ…ï¼ˆè‡ªåŠ¨é€‰æ‹©åœ¨çº¿/ç¦»çº¿è¯»å–ï¼‰
        var inventory = await reader.ReadPlayerInventoryComponentsAsync(e.PlayerName);

        // éå†æ‰€æœ‰ç‰©å“
        foreach (var item in inventory.Inventory)
        {
            context.Logger.Info($"æ§½ä½ {item.Slot}: {item.Id} x{item.Count}");
            
            // æ£€æŸ¥è‡ªå®šä¹‰åç§°
            if (item.HasComponent("minecraft:custom_name"))
            {
                context.Logger.Info($"  åç§°: {item.CustomName}");
            }

            // æ£€æŸ¥é™„é­”
            if (item.Enchantments != null)
            {
                foreach (var (enchant, level) in item.Enchantments)
                {
                    context.Logger.Info($"  é™„é­”: {enchant} Lv.{level}");
                }
            }

            // æ£€æŸ¥è€ä¹…
            if (item.Damage.HasValue && item.MaxDamage.HasValue)
            {
                var durability = item.MaxDamage.Value - item.Damage.Value;
                var percent = (durability * 100.0) / item.MaxDamage.Value;
                context.Logger.Info($"  è€ä¹…: {durability}/{item.MaxDamage} ({percent:F1}%)");
            }
        }
    }
}
```

### å¼ºåˆ¶ç¦»çº¿è¯»å–

åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½éœ€è¦å¼ºåˆ¶ä½¿ç”¨ç¦»çº¿è¯»å–ï¼š

```csharp
// æ–¹æ³• 1ï¼šç›´æ¥è¯»å–ç©å®¶æ•°æ®æ–‡ä»¶
var playerDataReader = context.PlayerDataReader;
var playerData = await playerDataReader.ReadPlayerDataAsync(playerUuid);

// æ–¹æ³• 2ï¼šä¸´æ—¶ç¦ç”¨ RCONï¼ˆå¦‚æœéœ€è¦ï¼‰
// æ³¨æ„ï¼šè¿™ä¼šå½±å“å…¶ä»–åŠŸèƒ½
```

### è¯»å–ç‰¹å®šæ§½ä½

```csharp
// è¯»å–ä¸»æ‰‹ç‰©å“ï¼ˆå‡è®¾ç©å®¶é€‰ä¸­æ§½ä½ 0ï¼‰
var mainHand = await reader.ReadInventorySlotComponentsAsync(playerName, 0);
if (mainHand != null)
{
    context.Logger.Info($"ä¸»æ‰‹: {mainHand.Id}");
    
    // æ£€æŸ¥æ˜¯å¦æœ‰ç‰¹å®šç»„ä»¶
    if (mainHand.HasComponent("minecraft:custom_model_data"))
    {
        var modelData = mainHand.GetComponent<int>("minecraft:custom_model_data");
        context.Logger.Info($"è‡ªå®šä¹‰æ¨¡å‹: {modelData}");
    }
}

// è¯»å–å¤´ç›”ï¼ˆæ§½ä½ 39ï¼‰
var helmet = await reader.ReadInventorySlotComponentsAsync(playerName, 39);
if (helmet != null && helmet.HasComponent("minecraft:trim"))
{
    var trim = helmet.GetComponent<Dictionary<string, string>>("minecraft:trim");
    context.Logger.Info($"ç›”ç”²çº¹é¥°: {trim["material"]} - {trim["pattern"]}");
}
```

### è¯»å–å®¹å™¨ç»„ä»¶

```csharp
// è¯»å–æ½œå½±ç›’å†…å®¹
var shulkerBox = await reader.ReadInventorySlotComponentsAsync(playerName, 10);
if (shulkerBox?.Id == "minecraft:shulker_box")
{
    if (shulkerBox.HasComponent("minecraft:container"))
    {
        var contents = shulkerBox.GetComponent<List<ItemComponents>>("minecraft:container");
        context.Logger.Info($"æ½œå½±ç›’å†…æœ‰ {contents.Count} ä¸ªç‰©å“");
        
        foreach (var item in contents)
        {
            context.Logger.Info($"  - {item.Id} x{item.Count}");
        }
    }
}
```

### è¯»å–æœ«å½±ç®±

```csharp
var enderChest = await reader.ReadEnderChestComponentsAsync(playerName);
context.Logger.Info($"æœ«å½±ç®±å†…æœ‰ {enderChest.Count} ä¸ªç‰©å“");

foreach (var item in enderChest)
{
    context.Logger.Info($"æ§½ä½ {item.Slot}: {item.Id} x{item.Count}");
}
```

---

## å†™å…¥ç‰©å“ç»„ä»¶

### IItemComponentWriter

```csharp
namespace NetherGate.API.Data;

/// <summary>
/// ç‰©å“ç»„ä»¶å†™å…¥å™¨ï¼ˆ1.20.5+ï¼‰
/// </summary>
public interface IItemComponentWriter
{
    /// <summary>
    /// ç»™äºˆç©å®¶ç‰©å“ï¼ˆä½¿ç”¨ç»„ä»¶ï¼‰
    /// </summary>
    Task<bool> GiveItemAsync(string playerName, ItemComponents item);

    /// <summary>
    /// è®¾ç½®ç‰¹å®šæ§½ä½çš„ç‰©å“ç»„ä»¶
    /// </summary>
    Task<bool> SetInventorySlotComponentsAsync(string playerName, int slot, ItemComponents item);

    /// <summary>
    /// ä¿®æ”¹ç‰©å“çš„ç‰¹å®šç»„ä»¶
    /// </summary>
    Task<bool> UpdateComponentAsync(string playerName, int slot, string componentId, object value);

    /// <summary>
    /// ç§»é™¤ç‰©å“çš„ç‰¹å®šç»„ä»¶
    /// </summary>
    Task<bool> RemoveComponentAsync(string playerName, int slot, string componentId);

    /// <summary>
    /// æ‰¹é‡ä¿®æ”¹ç»„ä»¶
    /// </summary>
    Task<bool> UpdateComponentsAsync(string playerName, int slot, Dictionary<string, object> components);
}
```

### ç»™äºˆç‰©å“

```csharp
var writer = await context.GetItemComponentWriter();

// åˆ›å»ºä¸€æŠŠé™„é­”é’»çŸ³å‰‘
var diamondSword = new ItemComponents
{
    Id = "minecraft:diamond_sword",
    Count = 1,
    Slot = -1, // è‡ªåŠ¨æŸ¥æ‰¾ç©ºæ§½ä½
    Components = new Dictionary<string, object>
    {
        ["minecraft:custom_name"] = "{\"text\":\"æ— å°½ä¹‹åˆƒ\",\"color\":\"aqua\",\"bold\":true}",
        ["minecraft:lore"] = new List<string>
        {
            "{\"text\":\"ä¼ è¯´çº§æ­¦å™¨\",\"color\":\"gray\",\"italic\":true}",
            "{\"text\":\"æ”»å‡»åŠ› +10\",\"color\":\"red\"}"
        },
        ["minecraft:enchantments"] = new Dictionary<string, object>
        {
            ["levels"] = new Dictionary<string, int>
            {
                ["minecraft:sharpness"] = 5,
                ["minecraft:unbreaking"] = 3,
                ["minecraft:mending"] = 1
            }
        },
        ["minecraft:attribute_modifiers"] = new Dictionary<string, object>
        {
            ["modifiers"] = new List<Dictionary<string, object>>
            {
                new()
                {
                    ["type"] = "minecraft:attack_damage",
                    ["amount"] = 10.0,
                    ["operation"] = "add_value",
                    ["slot"] = "mainhand"
                }
            }
        },
        ["minecraft:unbreakable"] = new Dictionary<string, bool>
        {
            ["show_in_tooltip"] = false
        },
        ["minecraft:rarity"] = "epic",
        ["minecraft:custom_data"] = new Dictionary<string, object>
        {
            ["plugin_id"] = "legendary_weapons",
            ["weapon_tier"] = 5,
            ["bound_player"] = "Steve"
        }
    }
};

await writer.GiveItemAsync(playerName, diamondSword);
```

### ä¿®æ”¹ç°æœ‰ç‰©å“

```csharp
// ä¿®æ”¹ä¸»æ‰‹ç‰©å“çš„åç§°
await writer.UpdateComponentAsync(
    playerName,
    slot: 0,
    componentId: "minecraft:custom_name",
    value: "{\"text\":\"å¼ºåŒ–ç‰ˆ\",\"color\":\"gold\"}"
);

// æ·»åŠ æè¿°
await writer.UpdateComponentAsync(
    playerName,
    slot: 0,
    componentId: "minecraft:lore",
    value: new List<string>
    {
        "{\"text\":\"å·²å¼ºåŒ–\",\"color\":\"yellow\"}"
    }
);

// è®¾ç½®ä¸ºä¸å¯ç ´å
await writer.UpdateComponentAsync(
    playerName,
    slot: 0,
    componentId: "minecraft:unbreakable",
    value: new Dictionary<string, bool> { ["show_in_tooltip"] = true }
);
```

### æ‰¹é‡ä¿®æ”¹

```csharp
// ä¸€æ¬¡æ€§ä¿®æ”¹å¤šä¸ªç»„ä»¶
var updates = new Dictionary<string, object>
{
    ["minecraft:damage"] = 0, // ä¿®å¤è€ä¹…
    ["minecraft:enchantments"] = new Dictionary<string, object>
    {
        ["levels"] = new Dictionary<string, int>
        {
            ["minecraft:efficiency"] = 5
        }
    },
    ["minecraft:custom_data"] = new Dictionary<string, object>
    {
        ["repaired_count"] = 1,
        ["last_repair"] = DateTime.UtcNow.ToString("o")
    }
};

await writer.UpdateComponentsAsync(playerName, slot: 0, updates);
```

### ç§»é™¤ç»„ä»¶

```csharp
// ç§»é™¤è‡ªå®šä¹‰åç§°
await writer.RemoveComponentAsync(playerName, slot: 0, "minecraft:custom_name");

// ç§»é™¤é™„é­”
await writer.RemoveComponentAsync(playerName, slot: 0, "minecraft:enchantments");
```

---

## ç»„ä»¶è½¬æ¢

### NBT åˆ°ç»„ä»¶çš„è½¬æ¢

NetherGate æä¾›äº†è‡ªåŠ¨è½¬æ¢åŠŸèƒ½ï¼Œå¸®åŠ©ä»æ—§ç‰ˆæœ¬è¿ç§»ï¼š

```csharp
namespace NetherGate.API.Data;

/// <summary>
/// NBT åˆ°ç»„ä»¶çš„è½¬æ¢å™¨
/// </summary>
public interface IItemComponentConverter
{
    /// <summary>
    /// å°† NBT æ•°æ®è½¬æ¢ä¸ºç»„ä»¶æ ¼å¼
    /// </summary>
    ItemComponents ConvertFromNbt(NbtCompound itemNbt);

    /// <summary>
    /// å°†ç»„ä»¶æ ¼å¼è½¬æ¢ä¸º NBT æ•°æ®
    /// </summary>
    NbtCompound ConvertToNbt(ItemComponents item);

    /// <summary>
    /// æ‰¹é‡è½¬æ¢ç©å®¶èƒŒåŒ…
    /// </summary>
    Task<PlayerInventoryComponents> ConvertPlayerInventoryAsync(string playerName);
}
```

### è½¬æ¢ç¤ºä¾‹

```csharp
var converter = await context.GetItemComponentConverter();

// ä» NBT è½¬æ¢
var nbtItem = new NbtCompound
{
    ["id"] = new NbtString("minecraft:diamond_sword"),
    ["Count"] = new NbtByte(1),
    ["tag"] = new NbtCompound
    {
        ["Damage"] = new NbtInt(10),
        ["display"] = new NbtCompound
        {
            ["Name"] = new NbtString("{\"text\":\"ä¼ å¥‡ä¹‹å‰‘\"}")
        }
    }
};

var componentItem = converter.ConvertFromNbt(nbtItem);
// ç»“æœ:
// {
//   Id: "minecraft:diamond_sword",
//   Count: 1,
//   Components: {
//     "minecraft:damage": 10,
//     "minecraft:custom_name": "{\"text\":\"ä¼ å¥‡ä¹‹å‰‘\"}"
//   }
// }
```

### å¸¸è§ç»„ä»¶æ˜ å°„è¡¨

| æ—§ NBT è·¯å¾„ | æ–°ç»„ä»¶ ID | è¯´æ˜ |
|------------|-----------|------|
| `tag.Damage` | `minecraft:damage` | æŸåå€¼ |
| `tag.display.Name` | `minecraft:custom_name` | è‡ªå®šä¹‰åç§° |
| `tag.display.Lore` | `minecraft:lore` | æè¿° |
| `tag.Enchantments` | `minecraft:enchantments` | é™„é­” |
| `tag.Unbreakable` | `minecraft:unbreakable` | ä¸å¯ç ´å |
| `tag.CustomModelData` | `minecraft:custom_model_data` | è‡ªå®šä¹‰æ¨¡å‹ |
| `tag.HideFlags` | `minecraft:hide_tooltip` | éšè—æç¤º |
| `tag.AttributeModifiers` | `minecraft:attribute_modifiers` | å±æ€§ä¿®é¥°ç¬¦ |
| `tag.Trim` | `minecraft:trim` | ç›”ç”²çº¹é¥° |
| `tag.display.color` | `minecraft:dyed_color` | æŸ“è‰² |
| `tag.BlockEntityTag` | `minecraft:block_entity_data` | æ–¹å—å®ä½“æ•°æ® |
| `tag.Items` | `minecraft:container` | å®¹å™¨å†…å®¹ |
| `tag.SkullOwner` | `minecraft:profile` | ç©å®¶å¤´é¢… |

---

## å®æˆ˜ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šç‰©å“è€ä¹…åº¦ç›‘æ§

```csharp
public class DurabilityMonitorPlugin : IPlugin
{
    public async Task OnPlayerInteractAsync(PlayerInteractEvent e, IPluginContext context)
    {
        var reader = await context.GetItemComponentReader();
        var mainHand = await reader.ReadInventorySlotComponentsAsync(e.PlayerName, e.Slot);

        if (mainHand == null) return;

        // æ£€æŸ¥æ˜¯å¦æ˜¯å¯æŸåç‰©å“
        if (mainHand.Damage.HasValue && mainHand.MaxDamage.HasValue)
        {
            var remaining = mainHand.MaxDamage.Value - mainHand.Damage.Value;
            var percent = (remaining * 100.0) / mainHand.MaxDamage.Value;

            // è€ä¹…åº¦ä½äº 10% æ—¶è­¦å‘Š
            if (percent < 10)
            {
                await context.SendMessageAsync(
                    e.PlayerName,
                    $"Â§câš  è­¦å‘Šï¼šç‰©å“å³å°†æŸåï¼å‰©ä½™è€ä¹… {remaining}/{mainHand.MaxDamage}"
                );
            }
        }
    }
}
```

### ç¤ºä¾‹ 2ï¼šè‡ªåŠ¨ä¿®å¤å·¥å…·

```csharp
[Command("repair")]
[Permission("nethergate.repair")]
public async Task<bool> RepairItemAsync(
    string playerName,
    IPluginContext context)
{
    var reader = await context.GetItemComponentReader();
    var writer = await context.GetItemComponentWriter();

    // æ£€æŸ¥ç©å®¶æ˜¯å¦åœ¨çº¿
    if (!await context.IsPlayerOnlineAsync(playerName))
    {
        await context.SendMessageAsync(playerName, "Â§cç©å®¶ä¸åœ¨çº¿ï¼");
        return false;
    }

    // è¯»å–ä¸»æ‰‹ç‰©å“ï¼ˆå‡è®¾é€‰ä¸­æ§½ä½ 0ï¼‰
    var item = await reader.ReadInventorySlotComponentsAsync(playerName, 0);
    
    if (item == null)
    {
        await context.SendMessageAsync(playerName, "Â§cè¯·æ‰‹æŒè¦ä¿®å¤çš„ç‰©å“ï¼");
        return false;
    }

    if (!item.Damage.HasValue || item.Damage.Value == 0)
    {
        await context.SendMessageAsync(playerName, "Â§cè¯¥ç‰©å“ä¸éœ€è¦ä¿®å¤ï¼");
        return false;
    }

    // ä¿®å¤è€ä¹…
    var success = await writer.UpdateComponentAsync(
        playerName,
        slot: 0,
        componentId: "minecraft:damage",
        value: 0
    );

    if (success)
    {
        await context.SendMessageAsync(playerName, "Â§aâœ“ ç‰©å“å·²å®Œå…¨ä¿®å¤ï¼");
        
        // è®°å½•ä¿®å¤æ¬¡æ•°
        var customData = item.CustomData ?? new Dictionary<string, object>();
        var repairCount = customData.ContainsKey("repair_count") 
            ? (int)customData["repair_count"] + 1 
            : 1;

        customData["repair_count"] = repairCount;
        customData["last_repair"] = DateTime.UtcNow.ToString("o");

        await writer.UpdateComponentAsync(
            playerName,
            slot: 0,
            componentId: "minecraft:custom_data",
            value: customData
        );
    }

    return success;
}
```

### ç¤ºä¾‹ 3ï¼šé«˜çº§ç‰©å“ç”Ÿæˆå™¨

```csharp
public class LegendaryWeaponGenerator
{
    public static ItemComponents CreateLegendarySword(string playerName)
    {
        return new ItemComponents
        {
            Id = "minecraft:netherite_sword",
            Count = 1,
            Slot = -1,
            Components = new Dictionary<string, object>
            {
                ["minecraft:custom_name"] = 
                    "{\"text\":\"é¾™ç‰™\",\"color\":\"#FF6B35\",\"bold\":true,\"italic\":false}",
                
                ["minecraft:lore"] = new List<string>
                {
                    "{\"text\":\"\"}",
                    "{\"text\":\"Â§7Â§oä¼ è¯´ä¸­çš„ç¥å™¨\"}",
                    "{\"text\":\"Â§8Â§oã€ä¸Šå¤é—ç‰©ã€\"}",
                    "{\"text\":\"\"}",
                    "{\"text\":\"Â§câš” æ”»å‡»ä¼¤å®³ +15\"}",
                    "{\"text\":\"Â§9âœ¦ æš´å‡»å‡ ç‡ +20%\"}",
                    "{\"text\":\"Â§aâ¤ ç”Ÿå‘½å·å– +10%\"}",
                    "{\"text\":\"\"}",
                    "{\"text\":\"Â§6Â§lä¼ å¥‡\"}",
                    "{\"text\":\"Â§7ç»‘å®šç©å®¶: Â§f" + playerName + "\"}"
                },
                
                ["minecraft:rarity"] = "epic",
                
                ["minecraft:enchantments"] = new Dictionary<string, object>
                {
                    ["levels"] = new Dictionary<string, int>
                    {
                        ["minecraft:sharpness"] = 10,
                        ["minecraft:sweeping_edge"] = 5,
                        ["minecraft:fire_aspect"] = 3,
                        ["minecraft:looting"] = 5,
                        ["minecraft:unbreaking"] = 10,
                        ["minecraft:mending"] = 1
                    },
                    ["show_in_tooltip"] = true
                },
                
                ["minecraft:attribute_modifiers"] = new Dictionary<string, object>
                {
                    ["modifiers"] = new List<Dictionary<string, object>>
                    {
                        new()
                        {
                            ["type"] = "minecraft:attack_damage",
                            ["id"] = "weapon_damage_boost",
                            ["amount"] = 15.0,
                            ["operation"] = "add_value",
                            ["slot"] = "mainhand"
                        },
                        new()
                        {
                            ["type"] = "minecraft:attack_speed",
                            ["id"] = "weapon_speed_boost",
                            ["amount"] = 0.5,
                            ["operation"] = "add_value",
                            ["slot"] = "mainhand"
                        },
                        new()
                        {
                            ["type"] = "minecraft:movement_speed",
                            ["id"] = "weapon_movement",
                            ["amount"] = 0.1,
                            ["operation"] = "add_multiplied_base",
                            ["slot"] = "mainhand"
                        }
                    ],
                    ["show_in_tooltip"] = true
                },
                
                ["minecraft:unbreakable"] = new Dictionary<string, bool>
                {
                    ["show_in_tooltip"] = false
                },
                
                ["minecraft:custom_model_data"] = 1001,
                
                ["minecraft:custom_data"] = new Dictionary<string, object>
                {
                    ["plugin_id"] = "legendary_weapons",
                    ["weapon_id"] = "dragon_fang",
                    ["tier"] = 5,
                    ["bound_player"] = playerName,
                    ["created_at"] = DateTime.UtcNow.ToString("o"),
                    ["stats"] = new Dictionary<string, object>
                    {
                        ["crit_chance"] = 0.2,
                        ["life_steal"] = 0.1,
                        ["kills"] = 0
                    }
                }
            }
        };
    }
}
```

### ç¤ºä¾‹ 4ï¼šæ£€æŸ¥æ½œå½±ç›’å†…å®¹

```csharp
public async Task<int> CountItemsInShulkerBoxAsync(
    string playerName,
    int shulkerSlot,
    string itemId,
    IPluginContext context)
{
    var reader = await context.GetItemComponentReader();
    var shulker = await reader.ReadInventorySlotComponentsAsync(playerName, shulkerSlot);

    if (shulker == null || !shulker.Id.Contains("shulker_box"))
    {
        return 0;
    }

    if (!shulker.HasComponent("minecraft:container"))
    {
        return 0; // ç©ºæ½œå½±ç›’
    }

    var contents = shulker.GetComponent<List<ItemComponents>>("minecraft:container");
    return contents
        .Where(item => item.Id == itemId)
        .Sum(item => item.Count);
}
```

### ç¤ºä¾‹ 5ï¼šç‰©å“è¿½è¸ªç³»ç»Ÿ

```csharp
public class ItemTrackingPlugin : IPlugin
{
    public async Task OnPlayerPickupItemAsync(PlayerPickupItemEvent e, IPluginContext context)
    {
        var reader = await context.GetItemComponentReader();
        var writer = await context.GetItemComponentWriter();

        // ä¸ºæ¡èµ·çš„ç‰©å“æ·»åŠ è¿½è¸ªä¿¡æ¯
        var item = await reader.ReadInventorySlotComponentsAsync(e.PlayerName, e.TargetSlot);
        if (item == null) return;

        var customData = item.CustomData ?? new Dictionary<string, object>();
        
        var trackingInfo = new Dictionary<string, object>
        {
            ["picked_up_by"] = e.PlayerName,
            ["picked_up_at"] = DateTime.UtcNow.ToString("o"),
            ["location"] = new Dictionary<string, double>
            {
                ["x"] = e.Location.X,
                ["y"] = e.Location.Y,
                ["z"] = e.Location.Z
            }
        };

        if (customData.ContainsKey("tracking_history"))
        {
            var history = (List<object>)customData["tracking_history"];
            history.Add(trackingInfo);
        }
        else
        {
            customData["tracking_history"] = new List<object> { trackingInfo };
        }

        await writer.UpdateComponentAsync(
            e.PlayerName,
            e.TargetSlot,
            "minecraft:custom_data",
            customData
        );
    }
}
```

---

## æœ€ä½³å®è·µ

### âœ… æ¨èåšæ³•

1. **ä¼˜å…ˆä½¿ç”¨å¿«æ·è®¿é—®å±æ€§**
   ```csharp
   // âœ… å¥½
   var name = item.CustomName;
   var enchants = item.Enchantments;
   
   // âŒ ä¸æ¨è
   var name = item.GetComponent<string>("minecraft:custom_name");
   ```

2. **æ£€æŸ¥ç»„ä»¶æ˜¯å¦å­˜åœ¨**
   ```csharp
   // âœ… å¥½
   if (item.HasComponent("minecraft:damage"))
   {
       var damage = item.Damage;
   }
   
   // âŒ å¯èƒ½å¯¼è‡´ NullReferenceException
   var damage = item.Damage.Value;
   ```

3. **ä½¿ç”¨ç±»å‹å®‰å…¨çš„è®¿é—®**
   ```csharp
   // âœ… å¥½
   var modelData = item.GetComponent<int>("minecraft:custom_model_data");
   
   // âŒ éœ€è¦æ‰‹åŠ¨ç±»å‹è½¬æ¢
   var modelData = (int)item.Components["minecraft:custom_model_data"];
   ```

4. **æ‰¹é‡æ“ä½œä½¿ç”¨æ‰¹é‡ API**
   ```csharp
   // âœ… å¥½ - ä¸€æ¬¡è°ƒç”¨
   await writer.UpdateComponentsAsync(playerName, slot, new Dictionary<string, object>
   {
       ["minecraft:damage"] = 0,
       ["minecraft:custom_name"] = "ä¿®å¤ç‰ˆ"
   });
   
   // âŒ ä¸æ¨è - å¤šæ¬¡è°ƒç”¨
   await writer.UpdateComponentAsync(playerName, slot, "minecraft:damage", 0);
   await writer.UpdateComponentAsync(playerName, slot, "minecraft:custom_name", "ä¿®å¤ç‰ˆ");
   ```

### âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç‰ˆæœ¬å…¼å®¹æ€§**
   - å§‹ç»ˆæ£€æŸ¥æœåŠ¡å™¨ç‰ˆæœ¬
   - å¯¹äº 1.20.4 åŠä¹‹å‰ç‰ˆæœ¬ï¼Œä½¿ç”¨ NBT API
   - å¯¹äº 1.20.5+ ç‰ˆæœ¬ï¼Œä½¿ç”¨ç»„ä»¶ API

2. **ç»„ä»¶å‘½åç©ºé—´**
   - å§‹ç»ˆä½¿ç”¨å®Œæ•´çš„å‘½åç©ºé—´ IDï¼ˆå¦‚ `minecraft:custom_name`ï¼‰
   - è‡ªå®šä¹‰ç»„ä»¶å»ºè®®ä½¿ç”¨æ’ä»¶çš„å‘½åç©ºé—´ï¼ˆå¦‚ `myplugin:custom_stat`ï¼‰

3. **æ•°æ®ç±»å‹**
   - ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„æ•°æ®ç±»å‹
   - å‚è€ƒ Minecraft Wiki çš„ç»„ä»¶æ•°æ®æ ¼å¼

4. **æ€§èƒ½è€ƒè™‘**
   - é¿å…é¢‘ç¹è¯»å–æ•´ä¸ªèƒŒåŒ…
   - ä½¿ç”¨æ§½ä½ç‰¹å®šçš„è¯»å– API
   - ç¼“å­˜ä¸ç»å¸¸å˜åŒ–çš„æ•°æ®

5. **åœ¨çº¿/ç¦»çº¿æ•°æ®è¯»å–**
   - **åœ¨çº¿è¯»å–ï¼ˆRCONï¼‰**ï¼šå®æ—¶æ•°æ®ï¼Œéœ€è¦ RCON å¯ç”¨
   - **ç¦»çº¿è¯»å–ï¼ˆæ–‡ä»¶ï¼‰**ï¼šå¯èƒ½ä¸æ˜¯æœ€æ–°æ•°æ®ï¼Œä½†ä¸éœ€è¦ RCON
   - API ä¼šè‡ªåŠ¨é€‰æ‹©æœ€ä½³æ–¹å¼ï¼Œæ— éœ€æ‰‹åŠ¨åˆ¤æ–­
   - è¯»å–ç¦»çº¿ç©å®¶æ•°æ®æ—¶ä¼šä»æ–‡ä»¶ç³»ç»Ÿè¯»å–

6. **ç©å®¶åœ¨çº¿çŠ¶æ€**
   - ä¿®æ”¹ç‰©å“å‰å§‹ç»ˆæ£€æŸ¥ç©å®¶æ˜¯å¦åœ¨çº¿
   - ç¦»çº¿ç©å®¶çš„ä¿®æ”¹å¯èƒ½ä¸ä¼šç«‹å³ç”Ÿæ•ˆ

7. **RCON ä¾èµ–**
   - **å†™å…¥æ“ä½œ**ï¼šå¿…éœ€ RCONï¼ˆä½¿ç”¨ `/item` å‘½ä»¤ï¼‰
   - **åœ¨çº¿è¯»å–**ï¼šéœ€è¦ RCONï¼ˆä½¿ç”¨ `/data get` å‘½ä»¤ï¼‰
   - **ç¦»çº¿è¯»å–**ï¼šä¸éœ€è¦ RCONï¼ˆç›´æ¥è¯»å– .dat æ–‡ä»¶ï¼‰
   - å¦‚æœ RCON æœªå¯ç”¨ï¼Œä¼šè‡ªåŠ¨é™çº§ä¸ºç¦»çº¿æ¨¡å¼

### ğŸ”’ å®‰å…¨å»ºè®®

1. **éªŒè¯ç‰©å“ ID**
   ```csharp
   var validItemIds = new HashSet<string> { "minecraft:diamond", "minecraft:gold_ingot" };
   if (!validItemIds.Contains(item.Id))
   {
       // æ‹’ç»éæ³•ç‰©å“
   }
   ```

2. **é™åˆ¶ç»„ä»¶å€¼èŒƒå›´**
   ```csharp
   // é™åˆ¶é™„é­”ç­‰çº§
   if (enchantLevel > 10)
   {
       enchantLevel = 10;
   }
   ```

3. **ä¿æŠ¤å…³é”®ç»„ä»¶**
   ```csharp
   // é˜²æ­¢ä¿®æ”¹ç»‘å®šä¿¡æ¯
   if (item.CustomData?.ContainsKey("bound_player") == true)
   {
       var boundPlayer = (string)item.CustomData["bound_player"];
       if (boundPlayer != currentPlayer)
       {
           // æ‹’ç»ä¿®æ”¹
       }
   }
   ```

4. **æ—¥å¿—è®°å½•**
   ```csharp
   context.Logger.Info($"[ItemComponent] {playerName} ä¿®æ”¹äº†ç‰©å“ç»„ä»¶: {componentId}");
   ```

---

## ç›¸å…³æ–‡æ¡£

- [NBT æ•°æ®æ“ä½œ](./NBTæ•°æ®æ“ä½œ.md) - ä¼ ç»Ÿ NBT æ ¼å¼æ“ä½œ
- [ç©å®¶æ•°æ®è¯»å–](./ç©å®¶æ•°æ®è¯»å–.md) - ç©å®¶æ•°æ®è®¿é—®
- [äº‹ä»¶ç³»ç»Ÿ](./äº‹ä»¶ç³»ç»Ÿ.md) - ç‰©å“ç›¸å…³äº‹ä»¶
- [Minecraft Wiki - æ•°æ®ç»„ä»¶](https://zh.minecraft.wiki/w/æ•°æ®ç»„ä»¶) - å®˜æ–¹æ–‡æ¡£

---

## æŠ€æœ¯å®ç°ç»†èŠ‚

### SNBT è§£æå™¨

NetherGate v1.0.1 å¼•å…¥äº†å®Œæ•´çš„ SNBT è§£æå™¨ï¼Œç”¨äºè§£æ RCON å‘½ä»¤è¿”å›çš„å­—ç¬¦ä¸²åŒ– NBT æ•°æ®ï¼š

**æ”¯æŒçš„ç‰¹æ€§ï¼š**
- âœ… æ‰€æœ‰ NBT æ ‡ç­¾ç±»å‹ï¼ˆCompound, List, Array, Primitiveï¼‰
- âœ… å¼•å·å­—ç¬¦ä¸²å’Œéå¼•å·å­—ç¬¦ä¸²
- âœ… è½¬ä¹‰å­—ç¬¦å¤„ç†
- âœ… ç±»å‹åç¼€è¯†åˆ«ï¼ˆ1b, 1s, 1l, 1.0f, 1.0dï¼‰
- âœ… åµŒå¥—ç»“æ„è§£æ
- âœ… æ•°ç»„ç±»å‹ï¼ˆ[I;...], [L;...], [B;...]ï¼‰

**ç¤ºä¾‹ï¼š**
```csharp
// RCON è¿”å›ï¼šplayer has the following entity data: [{Slot:0b,id:"minecraft:diamond_sword",count:1}]
// SNBT è§£æå™¨è‡ªåŠ¨å°†å…¶è½¬æ¢ä¸º C# å¯¹è±¡
var items = SnbtParser.Parse(snbtString);
```

### åœ¨çº¿è¯»å–æµç¨‹

```
1. æ£€æŸ¥ç©å®¶æ˜¯å¦åœ¨çº¿ï¼ˆ/list å‘½ä»¤ï¼‰
   â†“
2. ä½¿ç”¨ RCON æ‰§è¡Œ /data get entity <player> Inventory
   â†“
3. è§£æè¿”å›çš„ SNBT å­—ç¬¦ä¸²
   â†“
4. è½¬æ¢ä¸º ItemComponents å¯¹è±¡
   â†“
5. è¿”å› PlayerInventoryComponents
```

### ç¦»çº¿è¯»å–æµç¨‹

```
1. ä» usercache.json è·å–ç©å®¶ UUID
   â†“
2. è¯»å– world/playerdata/<uuid>.dat æ–‡ä»¶
   â†“
3. è§£æ NBT äºŒè¿›åˆ¶æ•°æ®
   â†“
4. è½¬æ¢ä¸º ItemComponents å¯¹è±¡
   â†“
5. è¿”å› PlayerInventoryComponents
```

---

**æœ€åæ›´æ–°**ï¼š2025-10-09  
**åŸºäº**ï¼šMinecraft Java ç‰ˆ 1.21.9+ / NetherGate v1.0.1

