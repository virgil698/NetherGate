# å®‰è£…å’Œé…ç½®

æœ¬æŒ‡å—å°†å¸®åŠ©ä½ å¿«é€Ÿå®‰è£…å’Œé…ç½® NetherGateï¼Œè®©ä½ çš„ Minecraft æœåŠ¡å™¨ç®¡ç†æ¡†æ¶åœ¨å‡ åˆ†é’Ÿå†…è¿è¡Œèµ·æ¥ã€‚

---

## ğŸ“‹ **ç›®å½•**

- [ç³»ç»Ÿè¦æ±‚](#ç³»ç»Ÿè¦æ±‚)
- [å®‰è£… NetherGate](#å®‰è£…-nethergate)
- [é…ç½®æ–‡ä»¶è¯´æ˜](#é…ç½®æ–‡ä»¶è¯´æ˜)
- [å¯åŠ¨æ¨¡å¼](#å¯åŠ¨æ¨¡å¼)
- [é¦–æ¬¡è¿è¡Œ](#é¦–æ¬¡è¿è¡Œ)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ğŸ’» **ç³»ç»Ÿè¦æ±‚**

### **æœ€ä½è¦æ±‚**

- **æ“ä½œç³»ç»Ÿï¼š**
  - Windows 10/11 (64-bit)
  - Linux (Ubuntu 20.04+, Debian 11+, CentOS 8+)
  - macOS 11+ (Big Sur or later)

- **.NET Runtimeï¼š**
  - .NET 9.0 æˆ–æ›´é«˜ç‰ˆæœ¬
  - ä¸‹è½½ï¼šhttps://dotnet.microsoft.com/download

- **Java Runtimeï¼š**ï¼ˆç”¨äºè¿è¡Œ Minecraft æœåŠ¡å™¨ï¼‰
  - Java 21 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆæ¨èä½¿ç”¨ OpenJDKï¼‰
  - ä¸‹è½½ï¼šhttps://adoptium.net/

- **å†…å­˜ï¼š**
  - æœ€ä½ 2GB RAMï¼ˆNetherGate æ¡†æ¶æœ¬èº«å ç”¨çº¦ 100-200MBï¼‰
  - æ¨è 4GB+ RAMï¼ˆåŒ…æ‹¬ Minecraft æœåŠ¡å™¨ï¼‰

### **æ¨èé…ç½®**

- **CPUï¼š** 4æ ¸å¿ƒæˆ–ä»¥ä¸Š
- **å†…å­˜ï¼š** 8GB+ RAM
- **ç£ç›˜ï¼š** 10GB+ å¯ç”¨ç©ºé—´ï¼ˆç”¨äºæœåŠ¡å™¨æ–‡ä»¶ã€æ—¥å¿—ã€å¤‡ä»½ï¼‰
- **ç½‘ç»œï¼š** ç¨³å®šçš„ç½‘ç»œè¿æ¥ï¼ˆç”¨äº SMP/RCON é€šä¿¡ï¼‰

---

## ğŸ“¦ **å®‰è£… NetherGate**

### **æ–¹å¼ 1ï¼šä» Release ä¸‹è½½ï¼ˆæ¨èï¼‰**

1. **ä¸‹è½½æœ€æ–°ç‰ˆæœ¬**

   è®¿é—® [GitHub Releases](https://github.com/your-org/NetherGate/releases) ä¸‹è½½é€‚åˆä½ æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬ï¼š
   
   - `NetherGate-v1.0.0-win-x64.zip` - Windows 64-bit
   - `NetherGate-v1.0.0-linux-x64.tar.gz` - Linux 64-bit
   - `NetherGate-v1.0.0-osx-x64.tar.gz` - macOS Intel
   - `NetherGate-v1.0.0-osx-arm64.tar.gz` - macOS Apple Silicon

2. **è§£å‹åˆ°ç›®æ ‡ç›®å½•**

   **Windows:**
   ```batch
   # è§£å‹åˆ° C:\NetherGate
   cd C:\
   tar -xf NetherGate-v1.0.0-win-x64.zip
   ```

   **Linux/macOS:**
   ```bash
   # è§£å‹åˆ° /opt/nethergate
   sudo mkdir -p /opt/nethergate
   sudo tar -xzf NetherGate-v1.0.0-linux-x64.tar.gz -C /opt/nethergate
   sudo chown -R $USER:$USER /opt/nethergate
   ```

3. **ç›®å½•ç»“æ„**

   ```
   NetherGate/
   â”œâ”€â”€ NetherGate.Host.exe        # ä¸»ç¨‹åºï¼ˆWindowsï¼‰
   â”œâ”€â”€ NetherGate.Host            # ä¸»ç¨‹åºï¼ˆLinux/macOSï¼‰
   â”œâ”€â”€ NetherGate.Core.dll
   â”œâ”€â”€ NetherGate.API.dll
   â”œâ”€â”€ lib/                       # ä¾èµ–åº“
   â”œâ”€â”€ config/                    # é…ç½®ç›®å½•ï¼ˆè¿è¡Œæ—¶åˆ›å»ºï¼‰
   â”œâ”€â”€ plugins/                   # æ’ä»¶ç›®å½•ï¼ˆç©ºï¼‰
   â”œâ”€â”€ logs/                      # æ—¥å¿—ç›®å½•ï¼ˆç©ºï¼‰
   â”œâ”€â”€ nethergate-config.yaml     # ä¸»é…ç½®æ–‡ä»¶
   â””â”€â”€ README.txt
   ```

### **æ–¹å¼ 2ï¼šä»æºç æ„å»º**

1. **å…‹éš†ä»“åº“**

   ```bash
   git clone https://github.com/your-org/NetherGate.git
   cd NetherGate
   ```

2. **æ¢å¤ä¾èµ–**

   ```bash
   dotnet restore
   ```

3. **æ„å»ºé¡¹ç›®**

   ```bash
   # ä½¿ç”¨æ„å»ºè„šæœ¬
   cd scripts
   ./build.sh      # Linux/macOS
   build.bat       # Windows

   # æˆ–æ‰‹åŠ¨æ„å»º
   dotnet build --configuration Release
   ```

4. **å‘å¸ƒ**

   ```bash
   cd scripts
   ./publish.sh    # Linux/macOS
   publish.bat     # Windows

   # è¾“å‡ºä½ç½®ï¼šbin/Release/
   ```

---

## âš™ï¸ **é…ç½®æ–‡ä»¶è¯´æ˜**

### **nethergate-config.yaml**

é¦–æ¬¡è¿è¡Œ NetherGate ä¼šè‡ªåŠ¨ç”Ÿæˆæ­¤é…ç½®æ–‡ä»¶ã€‚ä»¥ä¸‹æ˜¯å®Œæ•´çš„é…ç½®è¯´æ˜ï¼š

```yaml
# ==========================================
# NetherGate é…ç½®æ–‡ä»¶
# ==========================================

# æœåŠ¡å™¨è¿›ç¨‹é…ç½®
server:
  # å¯åŠ¨æ–¹æ³•ï¼šjava, script, external
  launch_method: "java"
  
  # å·¥ä½œç›®å½•ï¼ˆMinecraft æœåŠ¡å™¨æ‰€åœ¨ç›®å½•ï¼‰
  working_directory: "E:/Minecraft/Server"
  
  # Java å¯åŠ¨å‚æ•°ï¼ˆlaunch_method=java æ—¶ä½¿ç”¨ï¼‰
  java_path: "java"
  java_args: "-Xmx4G -Xms2G"
  jar_file: "server.jar"
  
  # è„šæœ¬è·¯å¾„ï¼ˆlaunch_method=script æ—¶ä½¿ç”¨ï¼‰
  script_path: ""
  
  # è‡ªåŠ¨é‡å¯
  auto_restart: true
  restart_delay_seconds: 10

# RCON é…ç½®
rcon:
  # æ˜¯å¦å¯ç”¨ RCON
  enabled: true
  host: "127.0.0.1"
  port: 25575
  password: "your_rcon_password"
  timeout_seconds: 5

# SMP (Server Management Protocol) é…ç½®
smp:
  # æ˜¯å¦å¯ç”¨ SMP
  enabled: true
  
  # WebSocket ç«¯å£ï¼ˆéœ€è¦ä¸ SMP æ’ä»¶é…ç½®ä¸€è‡´ï¼‰
  websocket_port: 25580
  
  # è®¤è¯å¯†é’¥ï¼ˆéœ€è¦ä¸ SMP æ’ä»¶é…ç½®ä¸€è‡´ï¼‰
  auth_key: "your_secret_key"
  
  # é‡è¿è®¾ç½®
  reconnect_interval_seconds: 5
  max_reconnect_attempts: 10

# æ’ä»¶é…ç½®
plugins:
  # æ’ä»¶ç›®å½•
  directory: "plugins"
  
  # æ˜¯å¦å¯ç”¨æ’ä»¶çƒ­é‡è½½
  enable_hot_reload: true
  
  # è‡ªåŠ¨åŠ è½½æ’ä»¶
  auto_load: true

# æ—¥å¿—é…ç½®
logging:
  # æ—¥å¿—çº§åˆ«ï¼šDebug, Info, Warning, Error
  level: "Info"
  
  # æ˜¯å¦è¾“å‡ºåˆ°æ§åˆ¶å°
  console_enabled: true
  
  # æ˜¯å¦è¾“å‡ºåˆ°æ–‡ä»¶
  file_enabled: true
  file_path: "logs/latest.log"
  
  # æ—¥å¿—æ–‡ä»¶æœ€å¤§å¤§å°ï¼ˆMBï¼‰
  max_file_size_mb: 10
  
  # ä¿ç•™çš„æ—¥å¿—æ–‡ä»¶æ•°é‡
  max_file_count: 5

# æ€§èƒ½ç›‘æ§é…ç½®
performance:
  # æ˜¯å¦å¯ç”¨æ€§èƒ½ç›‘æ§
  enabled: true
  
  # ç›‘æ§é—´éš”ï¼ˆç§’ï¼‰
  monitor_interval_seconds: 60
  
  # æ€§èƒ½å‘Šè­¦é˜ˆå€¼
  thresholds:
    cpu_percent: 80
    memory_mb: 6144
    tps: 15

# å¤‡ä»½é…ç½®
backup:
  # æ˜¯å¦å¯ç”¨è‡ªåŠ¨å¤‡ä»½
  enabled: false
  
  # å¤‡ä»½ç›®å½•
  directory: "backups"
  
  # å¤‡ä»½é—´éš”ï¼ˆå°æ—¶ï¼‰
  interval_hours: 6
  
  # ä¿ç•™çš„å¤‡ä»½æ•°é‡
  max_backups: 5
  
  # å‹ç¼©å¤‡ä»½
  compress: true
```

### **é…ç½®è¯´æ˜**

#### **server éƒ¨åˆ†**

| å­—æ®µ | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `launch_method` | å¯åŠ¨æ–¹æ³•ï¼š`java`, `script`, `external` | `java` |
| `working_directory` | Minecraft æœåŠ¡å™¨å·¥ä½œç›®å½• | - |
| `java_path` | Java å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ | `java` |
| `java_args` | JVM å‚æ•° | `-Xmx4G -Xms2G` |
| `jar_file` | æœåŠ¡å™¨ JAR æ–‡ä»¶å | `server.jar` |
| `script_path` | å¯åŠ¨è„šæœ¬è·¯å¾„ï¼ˆä»… `script` æ¨¡å¼ï¼‰ | - |
| `auto_restart` | æ˜¯å¦è‡ªåŠ¨é‡å¯ | `true` |
| `restart_delay_seconds` | é‡å¯å»¶è¿Ÿï¼ˆç§’ï¼‰ | `10` |

#### **rcon éƒ¨åˆ†**

| å­—æ®µ | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `enabled` | æ˜¯å¦å¯ç”¨ RCON | `true` |
| `host` | RCON ä¸»æœºåœ°å€ | `127.0.0.1` |
| `port` | RCON ç«¯å£ | `25575` |
| `password` | RCON å¯†ç ï¼ˆéœ€ä¸ `server.properties` ä¸€è‡´ï¼‰ | - |
| `timeout_seconds` | è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ | `5` |

#### **smp éƒ¨åˆ†**

| å­—æ®µ | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `enabled` | æ˜¯å¦å¯ç”¨ SMP | `true` |
| `websocket_port` | WebSocket ç«¯å£ | `25580` |
| `auth_key` | è®¤è¯å¯†é’¥ï¼ˆéœ€ä¸ SMP æ’ä»¶é…ç½®ä¸€è‡´ï¼‰ | - |
| `reconnect_interval_seconds` | é‡è¿é—´éš”ï¼ˆç§’ï¼‰ | `5` |
| `max_reconnect_attempts` | æœ€å¤§é‡è¿æ¬¡æ•° | `10` |

---

## ğŸš€ **å¯åŠ¨æ¨¡å¼**

NetherGate æ”¯æŒä¸‰ç§æœåŠ¡å™¨å¯åŠ¨æ¨¡å¼ï¼š

### **1. Java æ¨¡å¼ï¼ˆæ¨èï¼‰**

NetherGate ç›´æ¥ä½¿ç”¨ Java å¯åŠ¨æœåŠ¡å™¨ JAR æ–‡ä»¶ã€‚

**é…ç½®ï¼š**
```yaml
server:
  launch_method: "java"
  working_directory: "E:/Minecraft/Server"
  java_path: "java"
  java_args: "-Xmx4G -Xms2G"
  jar_file: "server.jar"
```

**ä¼˜ç‚¹ï¼š**
- âœ… ç®€å•ç›´æ¥
- âœ… å®Œå…¨æ§åˆ¶æœåŠ¡å™¨è¿›ç¨‹
- âœ… æ”¯æŒè‡ªåŠ¨é‡å¯

**é€‚ç”¨åœºæ™¯ï¼š** å¤§å¤šæ•°æƒ…å†µ

### **2. Script æ¨¡å¼**

NetherGate æ‰§è¡Œä¸€ä¸ªè‡ªå®šä¹‰å¯åŠ¨è„šæœ¬ã€‚

**é…ç½®ï¼š**
```yaml
server:
  launch_method: "script"
  working_directory: "E:/Minecraft/Server"
  script_path: "start.sh"  # æˆ– start.bat
```

**å¯åŠ¨è„šæœ¬ç¤ºä¾‹ (`start.sh`)ï¼š**
```bash
#!/bin/bash
cd /opt/minecraft/server
java -Xmx4G -Xms2G -jar server.jar nogui
```

**ä¼˜ç‚¹ï¼š**
- âœ… çµæ´»æ€§é«˜
- âœ… å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰å¯åŠ¨é€»è¾‘

**é€‚ç”¨åœºæ™¯ï¼š** éœ€è¦å¤æ‚å¯åŠ¨é€»è¾‘ï¼ˆå¦‚å¤šæœåŠ¡å™¨ã€å‰ç½®æ£€æŸ¥ç­‰ï¼‰

### **3. External æ¨¡å¼**

æœåŠ¡å™¨å·²ç»åœ¨å¤–éƒ¨è¿è¡Œï¼ŒNetherGate ä»…è¿æ¥åˆ°å·²è¿è¡Œçš„æœåŠ¡å™¨ã€‚

**é…ç½®ï¼š**
```yaml
server:
  launch_method: "external"
  working_directory: "E:/Minecraft/Server"  # ä»éœ€æŒ‡å®šå·¥ä½œç›®å½•

rcon:
  enabled: true
  host: "127.0.0.1"
  port: 25575
  password: "your_rcon_password"

smp:
  enabled: true
  websocket_port: 25580
  auth_key: "your_secret_key"
```

**ä¼˜ç‚¹ï¼š**
- âœ… ä¸å¹²æ‰°ç°æœ‰æœåŠ¡å™¨ç®¡ç†æ–¹å¼
- âœ… å¯ä»¥åœ¨æœåŠ¡å™¨è¿è¡Œæ—¶è¿æ¥/æ–­å¼€

**é€‚ç”¨åœºæ™¯ï¼š**
- æœåŠ¡å™¨ç”±å…¶ä»–å·¥å…·ï¼ˆå¦‚ systemdã€Dockerï¼‰ç®¡ç†
- å¤šä¸ªç®¡ç†å·¥å…·å…±å­˜
- ç”Ÿäº§ç¯å¢ƒä¸­çš„éä¾µå…¥å¼ç›‘æ§

---

## ğŸ¬ **é¦–æ¬¡è¿è¡Œ**

### **1. å‡†å¤‡ Minecraft æœåŠ¡å™¨**

ç¡®ä¿ä½ æœ‰ä¸€ä¸ªå¯è¿è¡Œçš„ Minecraft æœåŠ¡å™¨ï¼š

```
Minecraft-Server/
â”œâ”€â”€ server.jar
â”œâ”€â”€ server.properties
â”œâ”€â”€ eula.txt
â”œâ”€â”€ world/
â””â”€â”€ plugins/ (å¦‚æœæ˜¯ Bukkit/Spigot/Paper)
```

**é…ç½® `server.properties`ï¼š**

```properties
# å¯ç”¨ RCON
enable-rcon=true
rcon.port=25575
rcon.password=your_rcon_password
```

### **2. é…ç½® NetherGate**

ç¼–è¾‘ `nethergate-config.yaml`ï¼š

```yaml
server:
  launch_method: "java"
  working_directory: "E:/Minecraft/Server"  # ä¿®æ”¹ä¸ºä½ çš„æœåŠ¡å™¨ç›®å½•
  java_path: "java"
  java_args: "-Xmx4G -Xms2G"
  jar_file: "server.jar"

rcon:
  enabled: true
  password: "your_rcon_password"  # ä¸ server.properties ä¸€è‡´

smp:
  enabled: true
  auth_key: "your_secret_key_123"  # è‡ªå®šä¹‰å¯†é’¥
```

### **3. å®‰è£… SMP æ’ä»¶ï¼ˆå¯é€‰ä½†æ¨èï¼‰**

å¦‚æœä½ çš„æœåŠ¡å™¨æ˜¯ Bukkit/Spigot/Paperï¼Œéœ€è¦å®‰è£… SMP æ’ä»¶ä»¥è·å¾—å®Œæ•´åŠŸèƒ½ã€‚

1. ä¸‹è½½ SMP æ’ä»¶ï¼š`NetherGate-SMP-Plugin.jar`
2. æ”¾å…¥æœåŠ¡å™¨çš„ `plugins/` ç›®å½•
3. é…ç½® `plugins/NetherGate-SMP/config.yml`ï¼š

   ```yaml
   websocket:
     port: 25580
     auth_key: "your_secret_key_123"  # ä¸ nethergate-config.yaml ä¸€è‡´
   ```

### **4. å¯åŠ¨ NetherGate**

**Windows:**
```batch
cd C:\NetherGate
NetherGate.Host.exe
```

**Linux/macOS:**
```bash
cd /opt/nethergate
./NetherGate.Host
```

### **5. éªŒè¯è¿è¡Œ**

```
[2025-10-05 14:30:00 INFO]: NetherGate æ­£åœ¨å¯åŠ¨...
[2025-10-05 14:30:01 INFO]: é…ç½®å·²åŠ è½½
[2025-10-05 14:30:01 INFO]: æ­£åœ¨åŠ è½½æ’ä»¶...
[2025-10-05 14:30:02 INFO]: æ­£åœ¨å¯åŠ¨ Minecraft æœåŠ¡å™¨...
[2025-10-05 14:30:10 INFO]: æœåŠ¡å™¨å¯åŠ¨å®Œæˆï¼Œè€—æ—¶ 8.123 ç§’
[2025-10-05 14:30:10 INFO]: RCON è¿æ¥æˆåŠŸ
[2025-10-05 14:30:11 INFO]: SMP è¿æ¥æˆåŠŸ
[2025-10-05 14:30:11 INFO]: NetherGate å·²å°±ç»ª
```

### **6. æµ‹è¯•åŠŸèƒ½**

```bash
# åœ¨ NetherGate æ§åˆ¶å°
help                  # æŸ¥çœ‹å¯ç”¨å‘½ä»¤
plugin list           # åˆ—å‡ºå·²åŠ è½½çš„æ’ä»¶
list                  # åˆ—å‡ºåœ¨çº¿ç©å®¶

# åœæ­¢æœåŠ¡å™¨
stop
```

---

## â“ **å¸¸è§é—®é¢˜**

### **Q: æç¤º ".NET 9.0 Runtime not found"ï¼Ÿ**

**A:** å®‰è£… .NET 9.0 Runtimeï¼š
```bash
# ä¸‹è½½å¹¶å®‰è£…
https://dotnet.microsoft.com/download/dotnet/9.0

# éªŒè¯
dotnet --version
```

### **Q: RCON è¿æ¥å¤±è´¥ï¼Ÿ**

**A:** æ£€æŸ¥ï¼š
1. `server.properties` ä¸­ `enable-rcon=true`
2. RCON å¯†ç æ˜¯å¦ä¸€è‡´
3. ç«¯å£æ˜¯å¦è¢«å ç”¨ï¼š`netstat -an | grep 25575`
4. é˜²ç«å¢™æ˜¯å¦é˜»æ­¢

### **Q: SMP è¿æ¥å¤±è´¥ï¼Ÿ**

**A:** æ£€æŸ¥ï¼š
1. SMP æ’ä»¶æ˜¯å¦å·²å®‰è£…
2. `auth_key` æ˜¯å¦ä¸€è‡´
3. WebSocket ç«¯å£æ˜¯å¦è¢«å ç”¨
4. æŸ¥çœ‹ Minecraft æœåŠ¡å™¨æ—¥å¿—

### **Q: æœåŠ¡å™¨æ— æ³•å¯åŠ¨ï¼Ÿ**

**A:** æ£€æŸ¥ï¼š
1. `working_directory` è·¯å¾„æ˜¯å¦æ­£ç¡®
2. `jar_file` æ–‡ä»¶åæ˜¯å¦æ­£ç¡®
3. Java æ˜¯å¦å·²å®‰è£…ï¼š`java -version`
4. å†…å­˜æ˜¯å¦è¶³å¤Ÿ

### **Q: æ’ä»¶åŠ è½½å¤±è´¥ï¼Ÿ**

**A:** æ£€æŸ¥ï¼š
1. æ’ä»¶æ˜¯å¦åœ¨ `plugins/` ç›®å½•
2. `plugin.json` æ˜¯å¦å­˜åœ¨ä¸”æ­£ç¡®
3. æŸ¥çœ‹æ—¥å¿—ä¸­çš„è¯¦ç»†é”™è¯¯ä¿¡æ¯

### **Q: å¦‚ä½•åœæ­¢ NetherGateï¼Ÿ**

**A:**
```bash
# åœ¨æ§åˆ¶å°è¾“å…¥
stop

# æˆ–ä½¿ç”¨ Ctrl+Cï¼ˆä¼šç­‰å¾…æœåŠ¡å™¨æ­£å¸¸å…³é—­ï¼‰
```

---

## ğŸ“š **ä¸‹ä¸€æ­¥**

- [ç¬¬ä¸€ä¸ªæ’ä»¶](./ç¬¬ä¸€ä¸ªæ’ä»¶.md) - å¼€å‘ä½ çš„ç¬¬ä¸€ä¸ªæ’ä»¶
- [é…ç½®æ–‡ä»¶è¯¦è§£](../05-é…ç½®å’Œéƒ¨ç½²/é…ç½®æ–‡ä»¶è¯¦è§£.md) - æ·±å…¥äº†è§£é…ç½®é€‰é¡¹
- [å‘½ä»¤ç³»ç»Ÿ](../02-æ ¸å¿ƒåŠŸèƒ½/å‘½ä»¤ç³»ç»Ÿ.md) - äº†è§£å‘½ä»¤ç³»ç»Ÿ

---

**æ–‡æ¡£ç»´æŠ¤è€…ï¼š** NetherGate å¼€å‘å›¢é˜Ÿ  
**æœ€åæ›´æ–°ï¼š** 2025-10-05