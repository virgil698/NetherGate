# NetherGate å‘½ä»¤è¡Œå‚æ•°å‚è€ƒ

æœ¬æ–‡æ¡£ä»‹ç» NetherGate çš„å‘½ä»¤è¡Œå‚æ•°å’Œéäº¤äº’å¼å‘½ä»¤ã€‚

---

## ğŸ“‹ **ç›®å½•**

- [å¯åŠ¨æ¨¡å¼](#å¯åŠ¨æ¨¡å¼)
- [å‘½ä»¤è¡Œå‚æ•°](#å‘½ä»¤è¡Œå‚æ•°)
- [é…ç½®ç®¡ç†å‘½ä»¤](#é…ç½®ç®¡ç†å‘½ä»¤)
- [è¯Šæ–­å‘½ä»¤](#è¯Šæ–­å‘½ä»¤)
- [è‡ªåŠ¨åŒ–è„šæœ¬](#è‡ªåŠ¨åŒ–è„šæœ¬)

---

## ğŸš€ **å¯åŠ¨æ¨¡å¼**

### **äº¤äº’æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰**

```bash
# ç›´æ¥å¯åŠ¨ï¼Œè¿›å…¥äº¤äº’å¼æ§åˆ¶å°
NetherGate.exe

# æˆ–æ˜ç¡®æŒ‡å®š
NetherGate.exe --interactive
```

åœ¨äº¤äº’æ¨¡å¼ä¸‹ï¼ŒNetherGate ä¼šï¼š
1. åŠ è½½é…ç½®æ–‡ä»¶
2. åˆå§‹åŒ–æ‰€æœ‰ç³»ç»Ÿç»„ä»¶
3. å¯åŠ¨æœåŠ¡å™¨è¿›ç¨‹ï¼ˆå¦‚æœå¯ç”¨ï¼‰
4. åŠ è½½æ’ä»¶
5. æä¾›äº¤äº’å¼å‘½ä»¤è¡Œç•Œé¢

### **éäº¤äº’æ¨¡å¼**

éäº¤äº’æ¨¡å¼å…è®¸ä½ æ‰§è¡Œå•ä¸ªå‘½ä»¤å¹¶ç«‹å³é€€å‡ºï¼Œé€‚åˆè„šæœ¬å’Œè‡ªåŠ¨åŒ–ã€‚

```bash
# æ‰§è¡Œå‘½ä»¤å¹¶é€€å‡º
NetherGate.exe <command> [options]
```

---

## ğŸ› ï¸ **å‘½ä»¤è¡Œå‚æ•°**

### **`--version` / `-v`** - æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯

```bash
NetherGate.exe --version
NetherGate.exe -v
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
NetherGate v0.1.0
.NET 9.0.0
https://github.com/BlockBridge/NetherGate
```

---

### **`--help` / `-h`** - æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯

```bash
NetherGate.exe --help
NetherGate.exe -h
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
NetherGate - Minecraft æœåŠ¡å™¨ç®¡ç†æ¡†æ¶

ç”¨æ³•:
  NetherGate.exe [options] [command]

é€‰é¡¹:
  -v, --version          æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯
  -h, --help             æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  -i, --interactive      äº¤äº’æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰
  -s, --setup            è¿è¡Œé…ç½®å‘å¯¼
  -c, --config <file>    æŒ‡å®šé…ç½®æ–‡ä»¶

å‘½ä»¤:
  diagnose               è¿è¡Œè¯Šæ–­
  config validate        éªŒè¯é…ç½®æ–‡ä»¶
  config export [file]   å¯¼å‡ºé…ç½®
  config import <file>   å¯¼å…¥é…ç½®
  plugin list            åˆ—å‡ºæ‰€æœ‰æ’ä»¶
  plugin info <id>       æŸ¥çœ‹æ’ä»¶è¯¦æƒ…
  check-deps             æ£€æŸ¥ä¾èµ–

ä½¿ç”¨ 'NetherGate.exe <command> --help' æŸ¥çœ‹å‘½ä»¤è¯¦æƒ…
```

---

### **`--setup` / `-s`** - è¿è¡Œé…ç½®å‘å¯¼

```bash
NetherGate.exe --setup
NetherGate.exe -s
```

å¯åŠ¨äº¤äº’å¼é…ç½®å‘å¯¼ï¼Œå¼•å¯¼ä½ å®Œæˆåˆå§‹é…ç½®ã€‚è¯¦è§ [é…ç½®å‘å¯¼](#é…ç½®å‘å¯¼)ã€‚

---

### **`--config` / `-c`** - æŒ‡å®šé…ç½®æ–‡ä»¶

```bash
NetherGate.exe --config custom-config.yaml
NetherGate.exe -c custom-config.yaml
```

ä½¿ç”¨è‡ªå®šä¹‰é…ç½®æ–‡ä»¶å¯åŠ¨ NetherGateã€‚

---

## âš™ï¸ **é…ç½®ç®¡ç†å‘½ä»¤**

### **`config validate`** - éªŒè¯é…ç½®æ–‡ä»¶

æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰æ•ˆï¼Œå¹¶æ˜¾ç¤ºé…ç½®æ‘˜è¦ã€‚

```bash
NetherGate.exe config validate
```

**è¾“å‡ºç¤ºä¾‹ï¼ˆæˆåŠŸï¼‰**ï¼š
```
âœ“ é…ç½®æ–‡ä»¶æœ‰æ•ˆ

é…ç½®æ¦‚è¦:
  æœåŠ¡å™¨è¿›ç¨‹: å¯ç”¨ (java æ¨¡å¼)
  å·¥ä½œç›®å½•: ./minecraft_server
  SMP è¿æ¥: localhost:40745
  RCON: å¯ç”¨ (localhost:25575)
  æ—¥å¿—çº§åˆ«: Info
  æ’ä»¶ç›®å½•: plugins (è‡ªåŠ¨åŠ è½½)
```

**è¾“å‡ºç¤ºä¾‹ï¼ˆå¤±è´¥ï¼‰**ï¼š
```
âœ— é…ç½®æ–‡ä»¶æ— æ•ˆ

é”™è¯¯è¯¦æƒ…:
  è¡Œ 15: æ„å¤–çš„å­—ç¬¦ '{'
  å»ºè®®: æ£€æŸ¥ YAML è¯­æ³•ï¼Œç¡®ä¿æ­£ç¡®ç¼©è¿›

æç¤º: ä½¿ç”¨ 'NetherGate.exe --setup' é‡æ–°ç”Ÿæˆé…ç½®
```

---

### **`config export`** - å¯¼å‡ºé…ç½®

å¤‡ä»½å½“å‰é…ç½®æ–‡ä»¶ã€‚

```bash
# å¯¼å‡ºåˆ°é»˜è®¤æ–‡ä»¶
NetherGate.exe config export

# å¯¼å‡ºåˆ°æŒ‡å®šæ–‡ä»¶
NetherGate.exe config export my-backup.yaml
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
âœ“ é…ç½®å·²å¯¼å‡ºåˆ°: nethergate-config.backup-20251005-142345.yaml
```

---

### **`config import`** - å¯¼å…¥é…ç½®

ä»å¤‡ä»½æ–‡ä»¶æ¢å¤é…ç½®ã€‚

```bash
NetherGate.exe config import <file>
```

**ç¤ºä¾‹**ï¼š
```bash
NetherGate.exe config import my-backup.yaml
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
âœ“ é…ç½®å·²å¯¼å…¥
âš ï¸ è¯·é‡å¯ NetherGate ä»¥åº”ç”¨æ–°é…ç½®
```

---

## ğŸ” **è¯Šæ–­å‘½ä»¤**

### **`diagnose`** - è¿è¡Œè¯Šæ–­

å…¨é¢æ£€æŸ¥ NetherGate çš„å®‰è£…å’Œé…ç½®çŠ¶æ€ã€‚

```bash
NetherGate.exe diagnose
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
NetherGate è¯Šæ–­æŠ¥å‘Š
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ç³»ç»Ÿä¿¡æ¯:
  âœ“ æ“ä½œç³»ç»Ÿ: Windows 10.0.26100
  âœ“ .NET ç‰ˆæœ¬: 9.0.0
  âœ“ å·¥ä½œç›®å½•: E:\BlockBridge\NetherGate

é…ç½®æ–‡ä»¶:
  âœ“ å­˜åœ¨: nethergate-config.yaml
  âœ“ æœ‰æ•ˆ: æ˜¯
  âœ“ WebSocket é…ç½®: å­˜åœ¨

ç›®å½•ç»“æ„:
  âœ“ æ’ä»¶ç›®å½•: plugins
  âœ“ é…ç½®ç›®å½•: config
  âœ“ åº“ç›®å½•: lib
  âœ“ æ—¥å¿—ç›®å½•: logs
  âœ“ æœåŠ¡å™¨ç›®å½•: minecraft_server

æ’ä»¶:
  âœ“ å‘ç° 2 ä¸ªæ’ä»¶
    - backup-manager v1.0.0 (å·²å¯ç”¨)
    - world-editor v2.1.0 (å·²ç¦ç”¨)

ä¾èµ–:
  âœ“ lib/ ç›®å½•ä¸­çš„æ ¸å¿ƒä¾èµ–: 3 ä¸ª
  âš ï¸ æ’ä»¶ä¾èµ–: 1 ä¸ªç¼ºå¤±

ç½‘ç»œ:
  âœ“ SMP ç«¯å£ 40745: å¯ç”¨
  âœ“ RCON ç«¯å£ 25575: å¯ç”¨
  âœ“ WebSocket ç«¯å£ 8766: å¯ç”¨

æœåŠ¡å™¨è¿æ¥:
  âš ï¸ SMP: æœªè¿æ¥ (æœåŠ¡å™¨æœªå¯åŠ¨)
  âš ï¸ RCON: æœªè¿æ¥ (æœåŠ¡å™¨æœªå¯åŠ¨)

æ€»ä½“çŠ¶æ€: âœ“ å¥åº·
å»ºè®®:
  - å®‰è£…ç¼ºå¤±çš„æ’ä»¶ä¾èµ–
  - å¯åŠ¨æœåŠ¡å™¨ä»¥æµ‹è¯•è¿æ¥
```

---

### **`check-deps`** - æ£€æŸ¥ä¾èµ–

æ£€æŸ¥æ‰€æœ‰ä¾èµ–é¡¹æ˜¯å¦å­˜åœ¨ã€‚

```bash
NetherGate.exe check-deps
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
æ£€æŸ¥ä¾èµ–...
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

æ ¸å¿ƒä¾èµ– (lib/):
  âœ“ Newtonsoft.Json.dll (13.0.3)
  âœ“ YamlDotNet.dll (15.1.0)
  âœ“ fNbt.dll (0.6.4)

æ’ä»¶ä¾èµ–:
  backup-manager:
    âœ“ SomeLibrary.dll (1.2.3)
  
  world-editor:
    âœ— MissingLibrary.dll (2.0.0) - ç¼ºå¤±
    å»ºè®®: å°† MissingLibrary.dll æ”¾å…¥ plugins/world-editor/ ç›®å½•

æ€»ç»“:
  âœ“ 3/3 æ ¸å¿ƒä¾èµ–å·²å®‰è£…
  âš ï¸ 1/2 æ’ä»¶ä¾èµ–ç¼ºå¤±
```

---

### **`plugin list`** - åˆ—å‡ºæ’ä»¶ï¼ˆéäº¤äº’ï¼‰

åœ¨éäº¤äº’æ¨¡å¼ä¸‹åˆ—å‡ºæ‰€æœ‰æ’ä»¶ã€‚

```bash
NetherGate.exe plugin list
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
å·²å®‰è£…çš„æ’ä»¶ (2):
  âœ“ backup-manager v1.0.0 - è‡ªåŠ¨å¤‡ä»½æ’ä»¶
      ID: backup-manager
      ä½œè€…: ExampleAuthor

  âœ— world-editor v2.1.0 - ä¸–ç•Œç¼–è¾‘å·¥å…·
      ID: world-editor
      ä½œè€…: AnotherDev

å…± 2 ä¸ªæ’ä»¶ (1 å¯ç”¨, 1 ç¦ç”¨)
```

---

### **`plugin info`** - æŸ¥çœ‹æ’ä»¶è¯¦æƒ…ï¼ˆéäº¤äº’ï¼‰

æ˜¾ç¤ºæŒ‡å®šæ’ä»¶çš„è¯¦ç»†ä¿¡æ¯ã€‚

```bash
NetherGate.exe plugin info <plugin-id>
```

**ç¤ºä¾‹**ï¼š
```bash
NetherGate.exe plugin info backup-manager
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
æ’ä»¶ä¿¡æ¯: BackupManager
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ID:          backup-manager
ç‰ˆæœ¬:        1.0.0
æè¿°:        è‡ªåŠ¨å¤‡ä»½æ’ä»¶ï¼Œæ”¯æŒå®šæ—¶å¤‡ä»½å’Œæ‰‹åŠ¨å¤‡ä»½
ä½œè€…:        ExampleAuthor
ä¸»é¡µ:        https://github.com/example/backup-manager
ä»“åº“:        https://github.com/example/backup-manager.git
çŠ¶æ€:        å·²å¯ç”¨

ä¾èµ–:
  æ’ä»¶ä¾èµ–:
    - æ— 

  åº“ä¾èµ–:
    âœ“ SomeLibrary (1.2.3)

NetherGate ç‰ˆæœ¬è¦æ±‚: >= 0.1.0
Minecraft ç‰ˆæœ¬è¦æ±‚: >= 1.20.0

æ•°æ®ç›®å½•: plugins/backup-manager/
é…ç½®æ–‡ä»¶: plugins/backup-manager/config.yaml
```

---

## ğŸ¤– **è‡ªåŠ¨åŒ–è„šæœ¬**

### **ç¤ºä¾‹ 1ï¼šè‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬**

```bash
#!/bin/bash
# deploy.sh - è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬

set -e  # é‡åˆ°é”™è¯¯ç«‹å³é€€å‡º

echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "  NetherGate è‡ªåŠ¨åŒ–éƒ¨ç½²"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo

# 1. éªŒè¯é…ç½®
echo "[1/4] éªŒè¯é…ç½®æ–‡ä»¶..."
./NetherGate.exe config validate || {
    echo "âŒ é…ç½®éªŒè¯å¤±è´¥ï¼"
    exit 1
}
echo

# 2. æ£€æŸ¥ä¾èµ–
echo "[2/4] æ£€æŸ¥ä¾èµ–..."
./NetherGate.exe check-deps
echo

# 3. è¿è¡Œè¯Šæ–­
echo "[3/4] è¿è¡Œç³»ç»Ÿè¯Šæ–­..."
./NetherGate.exe diagnose
echo

# 4. å¯åŠ¨ NetherGate
echo "[4/4] å¯åŠ¨ NetherGate..."
./NetherGate.exe
```

---

### **ç¤ºä¾‹ 2ï¼šé…ç½®å¤‡ä»½è„šæœ¬**

```bash
#!/bin/bash
# backup-config.sh - å®šæœŸå¤‡ä»½é…ç½®

BACKUP_DIR="./config-backups"
TIMESTAMP=$(date +%Y%m%d_%H%M%S)

# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p "$BACKUP_DIR"

# å¯¼å‡ºé…ç½®
echo "æ­£åœ¨å¤‡ä»½é…ç½®..."
./NetherGate.exe config export "$BACKUP_DIR/config_$TIMESTAMP.yaml"

# æ¸…ç†æ—§å¤‡ä»½ï¼ˆä¿ç•™æœ€æ–°10ä¸ªï¼‰
cd "$BACKUP_DIR"
ls -t config_*.yaml | tail -n +11 | xargs -r rm

echo "âœ“ é…ç½®å·²å¤‡ä»½åˆ°: $BACKUP_DIR/config_$TIMESTAMP.yaml"
echo "âœ“ ä¿ç•™æœ€æ–° 10 ä¸ªå¤‡ä»½"
```

---

### **ç¤ºä¾‹ 3ï¼šæ‰¹é‡æ£€æŸ¥è„šæœ¬**

```bash
#!/bin/bash
# check-all.sh - æ‰¹é‡æ£€æŸ¥å¤šä¸ª NetherGate å®ä¾‹

SERVERS=(
    "/servers/lobby"
    "/servers/survival"
    "/servers/creative"
)

echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "  æ‰¹é‡æ£€æŸ¥ NetherGate å®ä¾‹"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo

for dir in "${SERVERS[@]}"; do
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    echo "æ£€æŸ¥: $dir"
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    
    if [ -d "$dir" ]; then
        cd "$dir"
        ./NetherGate.exe diagnose
        echo
    else
        echo "âš ï¸ ç›®å½•ä¸å­˜åœ¨: $dir"
        echo
    fi
done

echo "âœ“ æ‰¹é‡æ£€æŸ¥å®Œæˆ"
```

---

### **ç¤ºä¾‹ 4ï¼šå¥åº·æ£€æŸ¥è„šæœ¬ï¼ˆç›‘æ§ï¼‰**

```bash
#!/bin/bash
# health-check.sh - å¥åº·æ£€æŸ¥ï¼ˆç”¨äºç›‘æ§ç³»ç»Ÿï¼‰

# è¿è¡Œè¯Šæ–­å¹¶æ•è·é€€å‡ºç 
if ./NetherGate.exe diagnose > /dev/null 2>&1; then
    echo "OK - NetherGate è¿è¡Œæ­£å¸¸"
    exit 0
else
    echo "CRITICAL - NetherGate æ£€æµ‹åˆ°é—®é¢˜"
    exit 2
fi
```

---

## ğŸ“š **ç›¸å…³æ–‡æ¡£**

- [é…ç½®æ–‡ä»¶è¯¦è§£](../01-å¿«é€Ÿå¼€å§‹/é…ç½®æ–‡ä»¶è¯¦è§£.md)
- [å†…ç½®å‘½ä»¤å‚è€ƒ](./å†…ç½®å‘½ä»¤.md) - äº¤äº’å¼å‘½ä»¤
- [æ•…éšœæ’æŸ¥](../06-æ•…éšœæ’æŸ¥/å¸¸è§é—®é¢˜.md)

---

**æœ€åæ›´æ–°**: 2025-10-05  
**NetherGate ç‰ˆæœ¬**: v0.1.0

